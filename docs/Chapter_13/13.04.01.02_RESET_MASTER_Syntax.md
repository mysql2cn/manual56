####13.4.1.2. RESET MASTER 语法

	RESET MASTER

执行上述语句会删除索引文件（.index文件）列表里所显示的所有二进制日志以及清空索引文件，同时会创建一个新的二进制文件。

在MYSQL 5.6.5及其之后的版本，执行 RESET MASTER 同时也会将系统变量gtid\_purged（在MYSQL5.6.8及之前的版本里叫gtid\_lost) 以及全局（非会话）系统变量gtid\_executed(在MYSQL5.6.9之前叫gtid\_done)的值置为空字符串（''）。

该语句仅用于主库即将第一次开始复制时。

>重要提示：
>
> [RESET MASTER]()和[ PURGE BINARY LOGS]() 最主要的两点不同在于：
>
>1. [RESET MASTER]()会删除所有索引文件里列出的二进制文件以及清空索引文件，同时会产生一个新的二进制文件，并且文件名后缀的数值序号会被重置为.000001。然而[PURGE BINARY LOGS]()则不会重置序号值。
>2. 在复制环境下当备库处于运行当中，一般不要在主库执行[RESET MASTER]()，否则可能出现不可预知的问题（因此不建议这样做），而相对[PURGE BINARY LOGS]()来说,即使备库处于运行当中执行它也是很安全的。

对于第一次配置主从复制环境，[RESET MASTER]()会比较实用，可以按照下面的步骤来验证复制配置的正确性：

1. 启动主备库并启动复制（详见：[16.1.1, “How to Set Up Replication”]())。
2. 在主库上执行一些修改操作。
3. 检查主库上的修改是否复制到了备库。
4. 当检查发现复制一切正常后，在备库执行[STOP SLAVE]()接着执行[RESET SLAVE](),然后确保备库不需要的数据都已经被清除。
5. 在主库上执行[RESET MASTER]()来清除之前对主库的修改二进制日志。

然后，确认复制配置的正确性并且所有之前测试所产生的二进制日志都已经被清除，最后启动备库复制开始复制。

