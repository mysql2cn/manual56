# 19.2.4. 存储过程,函数,触发器和`LAST_INSERT_ID()`

### 19.2.4. 存储过程,函数,触发器和`LAST_INSERT_ID()`
在存储程序(存储过程,函数)或触发器的内部,`LAST_INSERT_ID()[1290]`的值和这些对象外部的执行语句一样, 会发生改变.请参阅[章节12.14, “信息函数”](../Chapter_12/12.14.00_Information_Functions.md). 
`LAST_INSERT_ID()[1290]`的值的改变对存储程序和触发器造成的影响, 只对后续的语句可见. 不同的存储程序类型也各不相同: 

* 如果存储过程的执行语句改变了`LAST_INSERT_ID()[1290]`的值, 新值对于调用存储过程之后的语句可见. 
* 如果存储函数和触发器改变了`LAST_INSERT_ID()[1290]`的值, 当存储函数和触发器结束后, 新值会被存储起来, 因此后续的语句无法获得新值. 
