# 14.1.1 使用InnoDB表的益处

###14.1.1 使用InnoDB表的益处
如果你使用MyISAM表，并且不是因为技术原因必须使用它，你会发现InnoDB表拥有如下优点：

- 如果因为硬件或者软件问题你的服务崩溃了，不管数据库在这个时候发生了什么，数据库重启后你不必做任何事情。InnoDB的崩溃恢机制自动完成崩溃前的已经提交的任何改变，并且回滚崩溃前没有提交的任何改变。你只需要重启，然后离开即可。

- InnoDB存储引擎维护自己的缓存池（buffer pool），主要缓存访问过的表数据和索引数据。常用数据直接从内存中处理。这种缓存适用于多种类型的信息，并且提高处理速度。在专用数据库服务器上，通常将80%的物理内存分配给InnoDB缓存池（buffer pool）。
- 如果你将相关的数据分布到不同的表中，你通过设置外键（foreign keys）以确保参考完整性（referential integrity）。更新或者删除数据，其他表中的相关数据也会自动更新或者删除。尝试在主表没有相应数据的情况下将数据插入到辅助表中，并且坏数据会自动被清除。
- 如果磁盘或者内存中的数据损坏，在使用该数据前checksum机制会警告您该数据为伪数据（bogus data）。
- 当您设计数据库时，每张表都应选择适当的列作为主键，操作时使用这些表会被自动优化。在WHERE子句、ORDER BY子句、GROUP BY子句和join操作中使用主键列会非常快。
- 插入、更新和删除会被一种称为change buffering的机制优化。InnoDB可实现并发读取和写入操作访问同一张表，它利用change buffering机制缓存更改的数据以节省磁盘I/O。
- 性能优势不限于长时间在巨型表上执行查询。当一张表的相同数据行被重复访问，一个称为自适应散列索引（Adaptive Hash Index）接管并生成散列表使查询更快。
- 你可以压缩表和其关联的索引。
- 你可以创建和删除表，并且几乎不影响性能和可用性。
- 截断一个file-per-table表空间非常快，并且能够释放磁盘空间让操作系统再次使用，不像系统表空间（system tablespace）释放出的空间只有InnoDB能够再次使用。
- BLOB和long text字段类型采用DYNAMIC行格式，这种存储布局对于表数据更高效。
- 通过查询INFORMATION_SCHEMA中的表，你能监控存储引擎的内部工作。
- 通过查询Performance_Schema中的表，你能监控存储引擎的性能细节。
- 你可以自由地将InnoDB表和MySQL其他类型的存储引擎的表混合操作，甚至在同一个语句中。比如，你可以在一个查询中联合（join）InnoDB和MEMORY表从而获得数据。
- InnoDB专门为处理大数据设计，其能够提升CPU的处理效率和性能。
- InnoDB可以处理大量数据，即使操作系统的文件限制为2G。

对于InnoDB特定的优化技术，你可以在应用代码中使用，请参见Section 8.5,
“Optimizing for InnoDB Tables”。



