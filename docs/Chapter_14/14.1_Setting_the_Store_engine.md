# 第十四章  储存引擎

储存引擎是MySQL的组件，其用来捕获对不同类型的表的SQL操作。InnoDB是最常用的储存引擎类型，Oracle建议把它应用于除特殊要求之外的所用表。（在MySQL5.6中，CREATE TABLE语句默认使用InnoDB）

MySQL服务器使用一种可插拔的储存引擎架构，允许在MySQL数据库运行时加载以及卸载储存引擎。

为了确认你的服务器支持哪些储存引擎，可以使用SHOW ENGINES语句查询。Support列显示的值决定了该引擎是否可以使用。该值有YES，NO，DEFAULT，分别对应可用，不可用，已设置为默认储存引擎。

这章主要描述InnoDB表的特性以及性能特征。也包括专门的储存引擎用例，但不包括将会在17章中提到的NDB。对于高级用户，本章中包括对可插拔储存引擎架构的一个描述（参见14.12 MySQL储存引擎架构简介）。

关于MySQL商业化服务器对储存引擎的支持，可以参见MySQL商业服务器5.6的网站。哪些储存引擎可用可能取决于您使用哪个版本的商业服务器。

对于一些关于储存引擎的常见问题，可以参见B.2,MySQL 5.6 FAQ：储存引擎。

## MYSQL支持的储存引擎

* InnoDB：一个事务安全（ACID支持）的MySQL储存引擎，拥有提交，回滚，崩溃恢复等机制来保护用户数据。InnoDB的行级锁（不会升级到粗粒度锁）机制以及Oracle风格的非锁定一致性读提升了多个用户下的并发性及性能。InnoDB把数据储存在集群索引中来减小基于主键的查询产生的I/O。为了管理数据完整性，InnoDB也支持FOREIGN KEY引用完整性约束。InnoDB是MySQL5.6默认的储存引擎。

* MyISAM：这些表有些问题。表级锁限制了读/写负载时的性能。所以它经常用在只读或者大部分时间读的Web以及数据仓库场景。

* Memory：把所有数据储存在内存中。用于快速访问非关键性数据。该引擎原来叫做HEAP引擎。该引擎的使用正在减少。InnoDB的缓冲池内存区提供了一个一般性的及可用性高的机制来把大部分或者全部数据放在内存里。而NDBCLUSTER提供了一个对分布式下大量数据的基于键-值的快速访问机制。

* CSV：它的表是使用逗号分隔符的文本文件。CSV表允许你把数据以CSV形式导入或导出，主要用来脚本或者应用程序以相同格式交换数据。由于CSV表是非索引化的，所以一般你会使用InnoDB来储存数据集来执行一般的操作，而使用CSV来导入或导出数据。

* Archive：这些表的数据储存密集并且没有索引，主要用来储存及检索大量的很少使用的历史，归档，安全审计等数据信息。

* Blackhole：Blackhole储存引擎不会储存数据。类似Unix dev/null设备。查询只会返回空数据集。这些表可以用于复制配置时需要发送DML语句到备机，但主机不需要保存数据的副本的时候。

* NDB：（也就是NDBCLUSTER）-这个集群数据库引擎尤其适合于应用需要最大运行时间及最高可用性的时候。

	>注意：NDB储存引擎在通常版MySQL5.6中是不可用的。当前只支持MySQL集群发布版如基于MySQL5.1的MySQL Cluster NDB 7.0及MySQL Cluster NDB 7.1，基于MySQL5.5的MySQL Cluster NDB 7.2，MySQL Cluster NDB 7.3。对于这些发布版，都支持NDB。

* Merge：该引擎允许MySQL DBA或者开发者对一系列相同的MyISAM表进行逻辑分区来作为一个对象访问，非常适合数据仓库等VLDB环境下使用。

* Federated：提供了一个机制来把多个物理数据库连接为一个逻辑数据库。非常适合分布式及数据集市环境。

* Example：这个引擎是一个储存引擎的源代码实例，用来指导如何写一个新的储存引擎。主要受开发者关注。该引擎只是用于学习，没有其他作用。你可以使用该引擎创建表，但不能把数据储存入该表或者从中得到数据。

你在同一个实体服务器或者模式中使用同一个储存引擎是不受限制的。你可以为任何表指定储存引擎。例如，一个程序可能在大部分表上使用InnoDB储存引擎，然后使用一个CSV表用于导出数据，然后还有一些MEMORY表用于临时工作空间。

##选择储存引擎






## 14.1 设置储存引擎
