# 14.2.6. InnoDB 启动选项和系统变量

### 14.2.6. InnoDB 启动选项和系统变量

本节描述了InnoDB相关的命令行选项和系统变量。系统变量的真假可以在启动服务时使用名字启用或加`--skip-`前缀来禁用。例如，要启用或禁用InnoDB校验，可以在命令行使用[`--innodb_checksums`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums) 或 [`--skip-innodb_checksums`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums)，也可以在选项文件中使用[`innodb_checksums`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums) 或 `skip-innodb_checksums`。系统变量的值可以在命令行中使用`--var_name=value`设置，也可以在选项文件中使用`var_name=value`设置。有关选项设置和系统变量的更多信息，请查看[4.2.3章,“设定程序选项”](../Chapter_04/04.02.03_Specifying_Program_Options.md)。许多系统变量可以在
运行时动态修改(见[5.1.5.2节，“动态系统变量”](../Chapter_05/05.01.05_Using_System_Variables.md#05.01.05.02))。

某些选项控制InnoDB数据文件的位置和布局。[14.2.1.2节,“配置InnoDB”](../Chapter_14/14.02.01_getting_started_with_innodb_tables.md#14.02.01.02)解释了如何使用这些选项。许多其他的选项，最初你可能没有用到，但它可以帮助你根据机器的性能和数据库的[工作负载(workload)](../glossary.md#g_workload)对InnoDB进行性能调优。性能相关的选项在[14.2.4章,“InnoDB的性能调优和故障排除”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md)和[14.2.4.2节,“InnoDB性能和可伸缩性的增强”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02)中有介绍。

**表 14.5. InnoDB 选项/变量参考**

<div class="table-contents">
<table summary="InnoDB Option/Variable
Reference" border="1"><colgroup><col class="name"><col class="cmd-line"><col class="option_file"><col class="system_var"><col class="status_var"><col class="var_scope"><col class="dynamic"></colgroup><thead><tr><th scope="col">Name</th><th scope="col">Cmd-Line</th><th scope="col">Option file</th><th scope="col">System Var</th><th scope="col">Status Var</th><th scope="col">Var Scope</th><th scope="col">Dynamic</th></tr></thead><tbody><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_enable_binlog">daemon_memcached_enable_binlog</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_engine_lib_name">daemon_memcached_engine_lib_name</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_engine_lib_path">daemon_memcached_engine_lib_path</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_option">daemon_memcached_option</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_r_batch_size">daemon_memcached_r_batch_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_w_batch_size">daemon_memcached_w_batch_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-system-variables.html#sysvar_foreign_key_checks">foreign_key_checks</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-system-variables.html#sysvar_have_innodb">have_innodb</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#option_mysqld_ignore-builtin-innodb">ignore-builtin-innodb</a></td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"> - <span class="emphasis"><em>Variable</em></span>: <a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_ignore_builtin_innodb">ignore_builtin_innodb</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#option_mysqld_innodb">innodb</a></td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_flushing">innodb_adaptive_flushing</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_flushing_lwm">innodb_adaptive_flushing_lwm</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_hash_index">innodb_adaptive_hash_index</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_max_sleep_delay">innodb_adaptive_max_sleep_delay</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_additional_mem_pool_size">innodb_additional_mem_pool_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_bk_commit_interval">innodb_api_bk_commit_interval</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_disable_rowlock">innodb_api_disable_rowlock</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_enable_binlog">innodb_api_enable_binlog</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_enable_mdl">innodb_api_enable_mdl</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_trx_level">innodb_api_trx_level</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_autoextend_increment">innodb_autoextend_increment</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_autoinc_lock_mode">innodb_autoinc_lock_mode</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_available_undo_logs">Innodb_available_undo_logs</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_bytes_data">Innodb_buffer_pool_bytes_data</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_bytes_dirty">Innodb_buffer_pool_bytes_dirty</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_at_shutdown">innodb_buffer_pool_dump_at_shutdown</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_now">innodb_buffer_pool_dump_now</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_dump_status">Innodb_buffer_pool_dump_status</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_filename">innodb_buffer_pool_filename</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_instances">innodb_buffer_pool_instances</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_abort">innodb_buffer_pool_load_abort</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_at_startup">innodb_buffer_pool_load_at_startup</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_now">innodb_buffer_pool_load_now</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_load_status">Innodb_buffer_pool_load_status</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_data">Innodb_buffer_pool_pages_data</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_dirty">Innodb_buffer_pool_pages_dirty</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_flushed">Innodb_buffer_pool_pages_flushed</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_free">Innodb_buffer_pool_pages_free</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_latched">Innodb_buffer_pool_pages_latched</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_misc">Innodb_buffer_pool_pages_misc</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_pages_total">Innodb_buffer_pool_pages_total</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_read_ahead">Innodb_buffer_pool_read_ahead</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_read_ahead_evicted">Innodb_buffer_pool_read_ahead_evicted</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_read_requests">Innodb_buffer_pool_read_requests</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_reads">Innodb_buffer_pool_reads</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size">innodb_buffer_pool_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_wait_free">Innodb_buffer_pool_wait_free</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_buffer_pool_write_requests">Innodb_buffer_pool_write_requests</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_change_buffer_max_size">innodb_change_buffer_max_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_change_buffering">innodb_change_buffering</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksum_algorithm">innodb_checksum_algorithm</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums">innodb_checksums</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_cmp_per_index_enabled">innodb_cmp_per_index_enabled</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_commit_concurrency">innodb_commit_concurrency</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_failure_threshold_pct">innodb_compression_failure_threshold_pct</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_level">innodb_compression_level</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_pad_pct_max">innodb_compression_pad_pct_max</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_concurrency_tickets">innodb_concurrency_tickets</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_file_path">innodb_data_file_path</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_fsyncs">Innodb_data_fsyncs</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_home_dir">innodb_data_home_dir</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_pending_fsyncs">Innodb_data_pending_fsyncs</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_pending_reads">Innodb_data_pending_reads</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_pending_writes">Innodb_data_pending_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_read">Innodb_data_read</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_reads">Innodb_data_reads</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_writes">Innodb_data_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_data_written">Innodb_data_written</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_dblwr_pages_written">Innodb_dblwr_pages_written</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_dblwr_writes">Innodb_dblwr_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_disable_sort_file_cache">innodb_disable_sort_file_cache</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_doublewrite">innodb_doublewrite</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_fast_shutdown">innodb_fast_shutdown</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format">innodb_file_format</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_check">innodb_file_format_check</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_max">innodb_file_format_max</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table">innodb_file_per_table</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_timeout">innodb_flush_log_at_timeout</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_trx_commit">innodb_flush_log_at_trx_commit</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_method">innodb_flush_method</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_neighbors">innodb_flush_neighbors</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flushing_avg_loops">innodb_flushing_avg_loops</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_force_load_corrupted">innodb_force_load_corrupted</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_force_recovery">innodb_force_recovery</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_aux_table">innodb_ft_aux_table</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_cache_size">innodb_ft_cache_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_diag_print">innodb_ft_enable_diag_print</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_stopword">innodb_ft_enable_stopword</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_max_token_size">innodb_ft_max_token_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_min_token_size">innodb_ft_min_token_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_num_word_optimize">innodb_ft_num_word_optimize</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_server_stopword_table">innodb_ft_server_stopword_table</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_sort_pll_degree">innodb_ft_sort_pll_degree</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_user_stopword_table">innodb_ft_user_stopword_table</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_have_atomic_builtins">Innodb_have_atomic_builtins</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity">innodb_io_capacity</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity_max">innodb_io_capacity_max</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_large_prefix">innodb_large_prefix</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_lock_wait_timeout">innodb_lock_wait_timeout</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_locks_unsafe_for_binlog">innodb_locks_unsafe_for_binlog</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_buffer_size">innodb_log_buffer_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_compressed_pages">innodb_log_compressed_pages</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_file_size">innodb_log_file_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_files_in_group">innodb_log_files_in_group</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_group_home_dir">innodb_log_group_home_dir</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_log_waits">Innodb_log_waits</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_log_write_requests">Innodb_log_write_requests</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_log_writes">Innodb_log_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_lru_scan_depth">innodb_lru_scan_depth</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_dirty_pages_pct">innodb_max_dirty_pages_pct</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_dirty_pages_pct_lwm">innodb_max_dirty_pages_pct_lwm</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag">innodb_max_purge_lag</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag_delay">innodb_max_purge_lag_delay</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_mirrored_log_groups">innodb_mirrored_log_groups</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_disable">innodb_monitor_disable</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_enable">innodb_monitor_enable</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset">innodb_monitor_reset</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset_all">innodb_monitor_reset_all</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_num_open_files">Innodb_num_open_files</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_pct">innodb_old_blocks_pct</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_time">innodb_old_blocks_time</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_online_alter_log_max_size">innodb_online_alter_log_max_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_open_files">innodb_open_files</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_optimize_fulltext_only">innodb_optimize_fulltext_only</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_os_log_fsyncs">Innodb_os_log_fsyncs</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_os_log_pending_fsyncs">Innodb_os_log_pending_fsyncs</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_os_log_pending_writes">Innodb_os_log_pending_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_os_log_written">Innodb_os_log_written</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_page_size">innodb_page_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_page_size">Innodb_page_size</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_pages_created">Innodb_pages_created</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_pages_read">Innodb_pages_read</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_pages_written">Innodb_pages_written</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_print_all_deadlocks">innodb_print_all_deadlocks</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_purge_batch_size">innodb_purge_batch_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_purge_threads">innodb_purge_threads</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_random_read_ahead">innodb_random_read_ahead</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_ahead_threshold">innodb_read_ahead_threshold</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_io_threads">innodb_read_io_threads</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_only">innodb_read_only</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_replication_delay">innodb_replication_delay</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_on_timeout">innodb_rollback_on_timeout</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_segments">innodb_rollback_segments</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_row_lock_current_waits">Innodb_row_lock_current_waits</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_row_lock_time">Innodb_row_lock_time</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_row_lock_time_avg">Innodb_row_lock_time_avg</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_row_lock_time_max">Innodb_row_lock_time_max</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_row_lock_waits">Innodb_row_lock_waits</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_rows_deleted">Innodb_rows_deleted</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_rows_inserted">Innodb_rows_inserted</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_rows_read">Innodb_rows_read</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_rows_updated">Innodb_rows_updated</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sort_buffer_size">innodb_sort_buffer_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_spin_wait_delay">innodb_spin_wait_delay</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_auto_recalc">innodb_stats_auto_recalc</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_method">innodb_stats_method</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_on_metadata">innodb_stats_on_metadata</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent">innodb_stats_persistent</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent_sample_pages">innodb_stats_persistent_sample_pages</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_sample_pages">innodb_stats_sample_pages</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_transient_sample_pages">innodb_stats_transient_sample_pages</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#option_mysqld_innodb-status-file">innodb-status-file</a></td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_strict_mode">innodb_strict_mode</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_support_xa">innodb_support_xa</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sync_array_size">innodb_sync_array_size</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sync_spin_loops">innodb_sync_spin_loops</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_table_locks">innodb_table_locks</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_concurrency">innodb_thread_concurrency</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_sleep_delay">innodb_thread_sleep_delay</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-status-variables.html#statvar_Innodb_truncated_status_writes">Innodb_truncated_status_writes</a></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_directory">innodb_undo_directory</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs">innodb_undo_logs</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces">innodb_undo_tablespaces</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_use_native_aio">innodb_use_native_aio</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_use_sys_malloc">innodb_use_sys_malloc</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_version">innodb_version</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_write_io_threads">innodb_write_io_threads</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>No</td></tr><tr><td scope="row"><a class="link" href="server-system-variables.html#sysvar_timed_mutexes">timed_mutexes</a></td><td>Yes</td><td>Yes</td><td>Yes</td><td>&nbsp;</td><td>Global</td><td>Yes</td></tr><tr><td scope="row"><a class="link" href="server-system-variables.html#sysvar_unique_checks">unique_checks</a></td><td>&nbsp;</td><td>&nbsp;</td><td>Yes</td><td>&nbsp;</td><td>Both</td><td>Yes</td></tr></tbody></table>
</div>

**InnoDB 命令行选项**

* <a name="sysvar_ignore_builtin_innodb"/> `--ignore-builtin-innodb`

<div class="informaltable">
<table summary="Options for ignore-builtin-innodb" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.2.22</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ignore-builtin-innodb</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ignore-builtin-innodb</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_ignore_builtin_innodb">ignore_builtin_innodb</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr></tbody></table>
</div>

在MySQL 5.1中，这个选项会使服务器禁用内置的InnoDB，使用InnoDB插件。在MySQL 5.6中，InnoDB是默认的存储引擎，不使用InnoDB插件，所以这个选项不起作用。在MySQL 5.6.5中，这个选项会被忽略。

* <a name="sysvar_innodb"/> `--innodb[=value]`

如果服务器是使用支持InnoDB的方式编译的，这个选项将控制是否加载InnoDB存储引擎。这个选项有三个可选值：`OFF`、`ON`或`FORCE`。请查看[5.1.8.1节,“安装和卸载插件”](../Chapter_05/05.01.08_Server_Plugins.md#05.01.08.01)。

如果要禁用InnoDB，请使用[`--innodb=OFF`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb)或[`--skip-innodb`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb)。这种情况下，因为默认存储引擎是[InnoDB](../Chapter_14/14.02.00_the_innodb_storage_engine.md)，服务将无法启动，除非你使用[`--default-storage-engine`](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_default_storage_engine) 和 [`--default-tmp-storage-engine`](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_default_tmp_storage_engine)为永久和临时表设置其他默认引擎。

* `--innodb-status-file`

<div class="informaltable">
<table summary="Options for innodb-status-file" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb-status-file</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb-status-file</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

控制InnoDB是否在MySQL数据目录创建一个名为`innodb_status.pid`的文件。如果启用，InnoDB定期将[`SHOW ENGINE INNODB STATUS`](../Chapter_13/13.07.05_SHOW_Syntax.md#13.07.05.16)的输出写入这个文件。

默认情况下不创建这个文件。如果创建这个文件，请使用`--innodb-status-file=1`选项启动[mysqld](../Chapter_04/04.03.01_mysqld_The_MySQL_Server.md)。这个文件在正常关闭服务的时候会被删除。

* [`--skip-innodb`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb)

禁用InnoDB存储引擎，详情请查看[`--innodb`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb)。

**InnoDB 系统变量**

* <a name="sysvar_daemon_memcached_enable_binlog"/> `daemon_memcached_enable_binlog`

<div class="informaltable">
<table summary="Options for daemon_memcached_enable_binlog" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_enable_binlog=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_enable_binlog</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_enable_binlog">daemon_memcached_enable_binlog</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">false</code></td></tr></tbody></table>
</div>

详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `daemon_memcached_engine_lib_name`

<div class="informaltable">
<table summary="Options for daemon_memcached_engine_lib_name" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_engine_lib_name=library</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_engine_lib_name</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_engine_lib_name">daemon_memcached_engine_lib_name</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">innodb_engine.so</code></td></tr></tbody></table>
</div>

指定`InnoDB memcached`插件的共享库。

详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `daemon_memcached_engine_lib_path`

<div class="informaltable">
<table summary="Options for daemon_memcached_engine_lib_path" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_engine_lib_path=directory</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_engine_lib_path</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_engine_lib_path">daemon_memcached_engine_lib_path</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>

`InnoDB memcached`插件共享库的路径。

详细用法请查看[14.2.9章，“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `daemon_memcached_option`

<div class="informaltable">
<table summary="Options for daemon_memcached_option" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_option=options</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_option</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_option">daemon_memcached_option</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal"></code></td></tr></tbody></table>
</div>

用于在启动时传递以空格分隔的memcached选项给底层的`memcached`内存对象缓存守护进程。例如，你可以修改`memcached`监听端口、减少并发连接的最大数、修改一个键/值对的最大内存、或启用错误日志的调试信息。

详细用法请查看[14.2.9章，“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。memcached的选项配置信息，请查看memcached的参考手册。

* <a name="sysvar_daemon_memcached_r_batch_size"/> `daemon_memcached_r_batch_size`

<div class="informaltable">
<table summary="Options for daemon_memcached_r_batch_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_r_batch_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_r_batch_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_r_batch_size">daemon_memcached_r_batch_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr></tbody></table>
</div>

指定在每次执行[COMMIT](../Chapter_13/13.03.01_START_TRANSACTION_COMMIT_and_ROLLBACK_Syntax.md)以开始新事务之前，可以执行多少次`memcached`读操作(`get`)。与[`daemon_memcached_w_batch_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_w_batch_size)相对应。

该值的默认设置是1，所以，该表上任何通过SQL语句的修改对`memcached`操作是立即可见的。一些底层表只通过`memcached`接口访问，你可以加大该选项以减少频繁提交产生的开销。如果设置的值太大，一些长时间运行的事务会导致大量的回滚或重做数据，加重存储开销。

详细用法请查看[14.2.9章，“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* <a name="sysvar_daemon_memcached_w_batch_size"/> `daemon_memcached_w_batch_size`

<div class="informaltable">
<table summary="Options for daemon_memcached_w_batch_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--daemon_memcached_w_batch_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">daemon_memcached_w_batch_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_w_batch_size">daemon_memcached_w_batch_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr></tbody></table>
</div>

指定在每次执行[COMMIT](../Chapter_13/13.03.01_START_TRANSACTION_COMMIT_and_ROLLBACK_Syntax.md)以开始新事务之前，可以执行多少次`memcached`写操作（如`add`、`set`或`incr`）。与[`daemon_memcached_r_batch_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_daemon_memcached_r_batch_size)相对应。

假设存储的所有数据都是重要的，为了防止意外中断，应立即提交，因此默认设置是1。当存储非关键数据时，可以提高该值避免频繁提交以减少开销；但最后的N-1次未提交的写操作在发生崩溃时可能会丢失。

详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `ignore_builtin_innodb`

<div class="informaltable">
<table summary="Options for ignore-builtin-innodb" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.2.22</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--ignore-builtin-innodb</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">ignore-builtin-innodb</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_ignore_builtin_innodb">ignore_builtin_innodb</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr></tbody></table>
</div>

请查看本节前面部分中“InnoDB命令行选项”中关于[--ignore-builtin-innodb](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_ignore_builtin_innodb)的描述。

* `innodb_adaptive_flushing`

<div class="informaltable">
<table summary="Options for innodb_adaptive_flushing" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_adaptive_flushing=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_adaptive_flushing</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_flushing">innodb_adaptive_flushing</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

指定是否要根据工作负载动态地调整InnoDB[缓冲池](../glossary.md#g_buffer_pool)中[脏页](../glossary.md#g_dirty_page)的刷新速度。动态调整刷新速度是为了避免突然爆发的I/O活动。该设置默认启用。一般的I/O调优建议，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_adaptive_flushing_lwm`

<div class="informaltable">
<table summary="Options for innodb_adaptive_flushing_lwm" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_adaptive_flushing_lwm=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_adaptive_flushing_lwm</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_flushing_lwm">innodb_adaptive_flushing_lwm</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">10</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 70</code></td></tr></tbody></table>
</div>

[自适应刷新](../glossary.md#g_adaptive_flushing)启用时，低水位标志表示[重做日志](../glossary.md#g_redo_log)容量的百分比。

* <a name="sysvar_innodb_adaptive_hash_index"/> `innodb_adaptive_hash_index`

<div class="informaltable">
<table summary="Options for innodb_adaptive_hash_index" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_adaptive_hash_index=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_adaptive_hash_index</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_hash_index">innodb_adaptive_hash_index</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

无论InnoDB[自适应哈希索引](../glossary.md#g_adaptive_hash_index)是否启用或禁用。自适应哈希索引功能只对某些工作负载是有用的，而对另外一些不起作用；请使用真实工作负载，在启用和禁用模式下进行基准测试。查看[14.2.3.12.6节,“自适应哈希索引”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.12.06)来获得详细信息。该变量默认是启用。服务器启动时使用`--skip-innodb_adaptive_hash_index`禁用它。

* <a name="sysvar_innodb_adaptive_max_sleep_delay"> `innodb_adaptive_max_sleep_delay`

<div class="informaltable">
<table summary="Options for innodb_adaptive_max_sleep_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_adaptive_max_sleep_delay=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_adaptive_max_sleep_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_max_sleep_delay">innodb_adaptive_max_sleep_delay</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">150000</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 1000000</code></td></tr></tbody></table>
</div>

允许InnoDB根据当前工作负载向上或向下自动调节[`innodb_thread_sleep_delay`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_sleep_delay)的值。`innodb_thread_sleep_delay`可以在`innodb_adaptive_max_sleep_delay`指定的最大值范围内自动地动态调整。该值表示的是微秒数。该选项对InnoDB线程大于16的繁忙系统是非常有用的。(实际上，对有数百或数千个并发连接的MySQL系统是最有价值的。)

* `innodb_additional_mem_pool_size`

<div class="informaltable">
<table summary="Options for innodb_additional_mem_pool_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_additional_mem_pool_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_additional_mem_pool_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_additional_mem_pool_size">innodb_additional_mem_pool_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8388608</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">2097152 .. 4294967295</code></td></tr></tbody></table>
</div>

InnoDB用来存储[数据字典](../glossary.md#g_data_dictionary)信息和其他内部数据结构的内存池的大小（字节）。应用中的表越多，这里就需要分配更多的内存。如果InnoDB用尽这个池的内存，就会开始从操作系统分配内存，并在MySQL错误日志中写警告消息。默认值为8MB。

该变量与InnoDB内部内存分配器有关，如果[`innodb_use_sys_malloc`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_use_sys_malloc)是启用的，该变量将无效。在MySQL 5.6.3版本中，`innodb_additional_mem_pool_size`已经被废弃，在将来的MySQL版本中将被删除。

* `innodb_api_bk_commit_interval`

<div class="informaltable">
<table summary="Options for innodb_api_bk_commit_interval" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_api_bk_commit_interval=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_api_bk_commit_interval</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_bk_commit_interval">innodb_api_bk_commit_interval</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1073741824 </code></td></tr></tbody></table>
</div>

使用`InnoDB memcached`接口的空闲连接多久自动提交一次（单位：秒）。

详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `innodb_api_disable_rowlock`

<div class="informaltable">
<table summary="Options for innodb_api_disable_rowlock" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_api_disable_rowlock=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_api_disable_rowlock</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_disable_rowlock">innodb_api_disable_rowlock</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `innodb_api_enable_binlog`

<div class="informaltable">
<table summary="Options for innodb_api_enable_binlog" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_api_enable_binlog=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_api_enable_binlog</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_enable_binlog">innodb_api_enable_binlog</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

允许`InnoDB memcached`插件使用MySQL[二进制日志](../glossary.md#g_binary_log)。详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `innodb_api_enable_mdl`

<div class="informaltable">
<table summary="Options for innodb_api_enable_mdl" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_api_enable_mdl=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_api_enable_mdl</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_enable_mdl">innodb_api_enable_mdl</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

锁定`InnoDB memcached`插件正在使用的表，防止通过SQL接口使用[DDL](../glossary.md#g_DDL)删除或修改此表。详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。

* `innodb_api_trx_level`

<div class="informaltable">
<table summary="Options for innodb_api_trx_level" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_api_trx_level=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_api_trx_level</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_api_trx_level">innodb_api_trx_level</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>

该选项可以让你控制通过`memcached`接口执行的那些查询的事务[隔离级别](../glossary.md#g_isolation_level)。详细用法请查看[14.2.9章,“InnoDB与memcached的集成”](../Chapter_14/14.02.09_InnoDB_Integration_with_memcached.md)。常量对应的名字是:

- 0 = [`READ UNCOMMITTED`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#READ_UNCOMMITTED)（读未提交）
- 1 = [`READ COMMITTED`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#READ_COMMITTED))（读已提交）
- 2 = [`REPEATABLE READ`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#REPEATABLE_READ))（可重复读）
- 3 = [`SERIALIZABLE`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#SERIALIZABLE))（可序列化）

* <a name="sysvar_innodb_autoextend_increment"/> `innodb_autoextend_increment`

<div class="informaltable">
<table summary="Options for innodb_autoextend_increment" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_autoextend_increment=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_autoextend_increment</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_autoextend_increment">innodb_autoextend_increment</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1000</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">64</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1000</code></td></tr></tbody></table>
</div>

当InnoDB[系统表空间](../glossary.md#g_system_tablespace)文件快要满的时候，自动扩展的增量大小(MB)。MySQL 5.6.6中默认值是64，之前的版本是8。这个变量对使用[`innodb_file_per_table`=1](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table)创建的独立表空间文件无效。这些文件不管[`innodb_autoextend_increment`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_autoextend_increment)怎么设置都会自动扩展。最初的扩展是少量的，之后的扩展增量是4MB。

* `innodb_autoinc_lock_mode`

<div class="informaltable">
<table summary="Options for innodb_autoinc_lock_mode" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_autoinc_lock_mode=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_autoinc_lock_mode</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_autoinc_lock_mode">innodb_autoinc_lock_mode</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="6">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">2</code></td></tr></tbody></table>
</div>

用于产生[auto-increment](../glossary.md#auto_increment)值的[锁模式](../glossary.md#g_lock_mode)。可选的值是0、1、2，分别对应“traditional”（传统）、“consecutive”（连续）、“interleaved”（交叉）模式。 [5.4.4章,“InnoDB中AUTO_INCREMENT的处理”](../Chapter_05/05.04.04_AUTO_INCREMENT_Handling_in_InnoDB.md)中描述了这些模式的特点。

该变量默认值是1(“consecutive”锁模式)。

* <a name="sysvar_innodb_buffer_pool_dump_at_shutdown"/> `innodb_buffer_pool_dump_at_shutdown`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_dump_at_shutdown" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_dump_at_shutdown=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_dump_at_shutdown</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_at_shutdown">innodb_buffer_pool_dump_at_shutdown</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

指定当MySQL服务器关闭时，是否记录那些在InnoDB[缓冲池](../glossary.md#g_buffer_pool)中缓存的页，以缩短下次重新启动时的[预热(warmup)](../glossary.md#g_warm_up)过程。通常与[`innodb_buffer_pool_load_at_startup`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_at_startup)联合使用。

* <a name="sysvar_innodb_buffer_pool_dump_now"/> `innodb_buffer_pool_dump_now`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_dump_now" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_dump_now=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_dump_now</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_now">innodb_buffer_pool_dump_now</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

立即记录InnoDB[缓冲池](../glossary.md#g_buffer_pool)中缓存的页。通常与[`innodb_buffer_pool_load_now`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_now)联合使用。

* <a name="sysvar_innodb_buffer_pool_filename"/> `innodb_buffer_pool_filename`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_filename" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_filename=file</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_filename</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_filename">innodb_buffer_pool_filename</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ib_buffer_pool</code></td></tr></tbody></table>
</div>

指定存放由[`innodb_buffer_pool_dump_at_shutdown`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_at_shutdown)或[`innodb_buffer_pool_dump_now`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_now)产生的页号列表的文件。

* <a name="sysvar_innodb_buffer_pool_instances"/> `innodb_buffer_pool_instances`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_instances" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_instances=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_instances</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_instances">innodb_buffer_pool_instances</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 64</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">-1 (autosized)</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 64</code></td></tr></tbody></table>
</div>

InnoDB[缓冲池](../glossary.md#g_buffer_pool)分区的数量。对于缓冲池在几个G范围内的系统，将缓冲池划分成多个单独的实例可以提高并发性，这样可以使用不同线程对缓存页进行读写以减少争用。每个存储在或从缓冲池读取的页面都由散列函数随机分配给一个缓冲池实例。每个缓冲池管理自己的空闲列表、[刷新列表](../glossary.md#g_flush_list)、[LRUs](../glossary.md#g_LRU)和与缓冲池相关的其他所有数据结构，并且由自己的缓冲池[互斥锁](../glossary.md#g_mutex)保护。

该选项只在`innodb_buffer_pool_size`的设置大于或等于1G时生效。指定的总共大小会被所有缓冲池平均分配。为了获得最佳效率，联合使用[`innodb_buffer_pool_instances`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_instances)和[`innodb_buffer_pool_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size)选项，以便每个缓冲池实例至少有1GB。

在MySQL 5.6.6之前，默认值是1。在MySQL 5.6.6中，默认值是8，但32位Windows系统除外，默认值将取决于[`innodb_buffer_pool_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size)的设置:

- 如果[`innodb_buffer_pool_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size)大于1.3GB，[`innodb_buffer_pool_instances`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_instances)的默认值是[`innodb_buffer_pool_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size)/128MB，对每个组块（chunk）使用单独的内存分配请求。1.3GB被选为边界，是因为32位Windows有可能无法为一个缓冲池分配需要的连续地址空间的重大风险。

- 否则，默认值是1。

* <a name="sysvar_innodb_buffer_pool_load_abort"/> `innodb_buffer_pool_load_abort`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_load_abort" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_load_abort=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_load_abort</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_abort">innodb_buffer_pool_load_abort</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

中断由[`innodb_buffer_pool_load_at_startup`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_at_startup)或[`innodb_buffer_pool_load_now`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_now)选项触发的InnoDB[缓冲池](../glossary.md#g_buffer_pool)的恢复过程。

* <a name="sysvar_innodb_buffer_pool_load_at_startup"/> `innodb_buffer_pool_load_at_startup`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_load_at_startup" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_load_at_startup=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_load_at_startup</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_at_startup">innodb_buffer_pool_load_at_startup</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

指定该选项，在MySQL服务启动时，InnoDB[缓冲池](../glossary.md#g_buffer_pool)将自动加载此前缓冲过的页进行[预热](../glossary.md#g_warm_up)。通常与[`innodb_buffer_pool_dump_at_shutdown`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_at_shutdown)联合使用。

* <a name="sysvar_innodb_buffer_pool_load_now"/> `innodb_buffer_pool_load_now`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_load_now" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_load_now=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_load_now</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_now">innodb_buffer_pool_load_now</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

不等服务器重启，立即加载一些数据页对InnoDB[缓冲池](../glossary.md#g_buffer_pool)进行[预热](../glossary.md#g_warm_up)。这有助于在基准测试时将高速缓冲带回一个可知的状态，也有助于MySQL服务在运行一些报表用的查询或维护后恢复到正常的工作负载。

* `innodb_buffer_pool_size`

<div class="informaltable">
<table summary="Options for innodb_buffer_pool_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_buffer_pool_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_buffer_pool_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_size">innodb_buffer_pool_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">134217728</code></td></tr><tr><td scope="row"><span class="bold"><strong>Min Value</strong></span></td><td colspan="2"><code class="literal">5242880</code></td></tr></tbody></table>
</div>

[缓冲池](../glossary.md#g_buffer_pool)的大小（字节），是InnoDB用来缓冲表和索引数据的内存区域。默认值是128MB。最大值取决于CPU架构；32位系统中最大是4294967295(2<sup>32</sup>-1)，64位系统中最大值是18446744073709551615(2<sup>64</sup>-1)。在32位系统中，CPU架构和操作系统一般只使用一个比规定最大值更低的实际最大值。在繁忙的服务器上，当缓冲池的大小大于1GB，将[`innodb_buffer_pool_instances`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_instances)设置为大于1的值可以提高可伸缩性。

你设置的值越大，当你多次访问同一数据时需要的磁盘I/O就越少。在专用的数据库服务器上，可以设置为机器物理内存的80%。如果发生以下问题可以缩减这个值:

- 物理内存的争用可能会导致操作系统的分页(paging)。

- InnoDB会为缓冲区和控制结构保留额外的内存，因此总的分配空间会比设置的值大大约10%。

- 地址空间必须是连续的，这在Windows系统上使用DLL加载特定地址可能是个问题。

- 初始化缓冲池需要的时间是与缓冲池的大小成正比的。在一些大型安装环境中，初始化时间可能非常重要。例如，在一个现代的x86_64架构的Linux服务器中，初始化一个10GB的缓冲池大约需要6秒。请查看[8.9.1章,“InnoDB缓冲池”](../Chapter_08/08.09.01_The_InnoDB_Buffer_Pool.md)。

* <a name="sysvar_innodb_change_buffer_max_size"/> `innodb_change_buffer_max_size`

<div class="informaltable">
<table summary="Options for innodb_change_buffer_max_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_change_buffer_max_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_change_buffer_max_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_change_buffer_max_size">innodb_change_buffer_max_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">25</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 50</code></td></tr></tbody></table>
</div>

InnoDB[修改缓冲区](../glossary.md#g_change_buffer)的最大尺寸，占[缓冲池](../glossary.md#g_buffer_pool)总大小的百分比。对于频繁插入、更新和删除活动的MySQL服务，可以提高该值的设置，对存储用于报表的不变数据的MySQL服务，可以降低该值的设置。一般的I/O调优建议，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_change_buffering"/> `innodb_change_buffering`

<div class="informaltable">
<table summary="Options for innodb_change_buffering" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_change_buffering=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_change_buffering</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_change_buffering">innodb_change_buffering</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="9">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">all</code></td></tr><tr><td scope="row" rowspan="6" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">inserts</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">deletes</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">purges</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">changes</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">all</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">none</code></td></tr></tbody></table>
</div>

InnoDB是否使用[修改缓冲](../glossary.md#g_change buffering)（一个把二级索引的写操作延迟以便I/O操作可以顺序执行的优化）。允许的值是`inserts`(缓冲插入操作)、`deletes`(缓冲删除操作；严格说来，只是标记索引记录以便后面做清除操作时删除)、`changes`(缓冲插入和删除标记操作)、`purges`(缓冲[清除](../glossary.md#g_purge)操作，最终对已删除的索引进行垃圾回收时的写操作)、`all`(缓冲插入、标记删除和清除操作)、`none`(不缓冲任何操作)。默认值是`all`。更详细的信息，请参见[14.2.4.2.13节,“控制InnoDB修改缓冲”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02.13)。一般的I/O调优建议，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_checksum_algorithm"/> `innodb_checksum_algorithm`

<div class="informaltable">
<table summary="Options for innodb_checksum_algorithm" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_checksum_algorithm=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_checksum_algorithm</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksum_algorithm">innodb_checksum_algorithm</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="9">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">innodb</code></td></tr><tr><td scope="row" rowspan="6" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">none</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_none</code></td></tr><tr><td scope="row" rowspan="9">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6, &lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">crc32</code></td></tr><tr><td scope="row" rowspan="6" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">none</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_none</code></td></tr><tr><td scope="row" rowspan="9">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">innodb</code></td></tr><tr><td scope="row" rowspan="6" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">none</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_innodb</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_crc32</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">strict_none</code></td></tr></tbody></table>
</div>

指定如何生成和验证存储在每个InnoDB[表空间](../glossary.md#g_tablespace)每个磁盘块上的[校验值(checksum)](../glossary.md#g_checksum)。替代[`innodb_checksums`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums)选项。

选项`innodb`是向后兼容所有MySQL版本的。选项`crc32`使用更快的算法为每一个修改的块计算校验值，并为每个磁盘读检查校验值。选项`none`在校验值字段写一个常量值，而不是基于数据块计算一个值。表空间中的块可以混合使用旧的、新的或没有校验值，会在修改数据的时候逐步更新；一旦表空间中的任何块被修改为使用`crc32`算法，相关的表就不能被早期版本的MySQL读取。

在MySQL 5.6.6中，默认值由`innodb`改为`crc32`，但在5.6.7版本又改回为`innodb`以改善InnoDB数据文件降级到早期MySQL版本时的兼容性，也是为了能使用[MySQL企业备份](../Chapter_24/24.02.00_MySQL_Enterprise_Backup.md)进行数据库备份。

`strict_*`前缀的选项与`innodb`、`crc32`、`none`一样，但如果在同一表空间中遇到多种混合的校验值，InnoDB会挂起(halt)。你只能在一个全新的实例中使用这些选项，并在一开始就设置好所有表空间。`strict_*`设置一般比较快，因为不需要在磁盘读时计算新旧校验值。

更多用法信息，请查看[14.2.4.2.7节,“快速CRC32校验算法”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02.07)，其中包括一个在读写操作时验证校验值的组合矩阵。

* <a name="sysvar_innodb_checksums"/> `innodb_checksums`

<div class="informaltable">
<table summary="Options for innodb_checksums" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_checksums</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_checksums</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksums">innodb_checksums</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

InnoDB可以使用[校验值](../glossary.md#g_checksum)验证所有表空间页面从磁盘读取,确保额外的容错对硬件故障或损坏的数据文件。这个验证是默认启用。在某些特殊情况下(如在运行基准测试)这种额外的安全功能可以被禁用`--skip-innodb-checksums`。你可以用[`innodb_checksum_algorithm`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksum_algorithm)选项指定的校验值的计算方法。

在MySQL 5.6.3或更高版本中，该选项将被弃用，被[`innodb_checksum_algorithm`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksum_algorithm)代替。`innodb_checksum_algorithm=innodb`与`innodb_checksums=ON`等同(默认值)。`innodb_checksum_algorithm=none`与`innodb_checksums=OFF`等同。从配置文件和启动脚本中删除`innodb_checksums`，避免与`innodb_checksum_algorithm`冲突：`innodb_checksums=OFF`将自动设置`innodb_checksum_algorithm=none`;
`innodb_checksums=ON`将被忽略，并且被`innodb_checksum_algorithm`的设置覆盖。

* `innodb_cmp_per_index_enabled`

<div class="informaltable">
<table summary="Options for innodb_cmp_per_index_enabled" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_cmp_per_index_enabled=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_cmp_per_index_enabled</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_cmp_per_index_enabled">innodb_cmp_per_index_enabled</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

该选项使每个索引的压缩相关的统计信息存放在`INFORMATION_SCHEMA.INNODB_CMP_PER_INDEX`表。 因为收集这些数据的代价昂贵，只在开发、测试或从库实例上的InnoDB[压缩](../glossary.md#g_compression)表相关的性能调优时启用这个选项。

* `innodb_commit_concurrency`

<div class="informaltable">
<table summary="Options for innodb_commit_concurrency" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_commit_concurrency=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_commit_concurrency</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_commit_concurrency">innodb_commit_concurrency</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 1000</code></td></tr></tbody></table>
</div>

可以在同一时间并发[提交](../glossary.md#g_commit)的[线程](../glossary.md#g_thread)数。值为0(默认)时允许任意数量的[事务](../glossary.md#g_transaction)同时提交。

`innodb_commit_concurrency`的值不能在运行时从0修改成非0或从非0修改成0。可以从一个非0值修改成另一个非0值。

* <a name="sysvar_innodb_compression_failure_threshold_pct"/> `innodb_compression_failure_threshold_pct`

<div class="informaltable">
<table summary="Options for innodb_compression_failure_threshold_pct" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_compression_failure_threshold_pct=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_compression_failure_threshold_pct</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_failure_threshold_pct">innodb_compression_failure_threshold_pct</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 100</code></td></tr></tbody></table>
</div>

设置MySQL开始在[压缩](../glossary.md#g_compression)页增加填充的临界点，以避免昂贵的[压缩失败](../glossary.md#g_compression_failure)。值为0时，将禁用监控压缩效率和动态调整填充量的机制。

* `innodb_compression_level`

<div class="informaltable">
<table summary="Options for innodb_compression_level" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_compression_level=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_compression_level</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_level">innodb_compression_level</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">6</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 9</code></td></tr></tbody></table>
</div>

指定InnoDB[压缩](../glossary.md#g_compression)表和索引所使用的zlib压缩的级别。

* `innodb_compression_pad_pct_max`

<div class="informaltable">
<table summary="Options for innodb_compression_pad_pct_max" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_compression_pad_pct_max=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_compression_pad_pct_max</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_pad_pct_max">innodb_compression_pad_pct_max</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">50</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 75</code></td></tr></tbody></table>
</div>

指定每个压缩[页](../glossary.md#g_page)内可以保留作为自由空间的最大百分比，当[压缩](../glossary.md#g_compression)表或索引被更新并且数据可能被重新压缩时，允许在页内整理数据和修改日志的空间。该选项只在[`innodb_compression_failure_threshold_pct`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_compression_failure_threshold_pct)为非零值，并且[压缩失败](../glossary.md#g_compression_failure)率超过临界点的时候有效。

* <a name="sysvar_innodb_concurrency_tickets"/> `innodb_concurrency_tickets`

<div class="informaltable">
<table summary="Options for innodb_concurrency_tickets" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_concurrency_tickets=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_concurrency_tickets</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_concurrency_tickets">innodb_concurrency_tickets</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">500</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 4294967295</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5000</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 4294967295</code></td></tr></tbody></table>
</div>

决定并发进入InnoDB的[线程](../glossary.md#g_thread)数。如果InnoDB已经达到并发限制，这时试图进入InnoDB的线程将被放入一个队列。当一个线程被允许进入InnoDB，它将获得与[`innodb_concurrency_tickets`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_concurrency_tickets)设置相等数量的“free tickets”，该线程可以自由地进入或离开InnoDB，直到它用光这些tickets。此后，在该线程下一次进入InnoDB时，将进行并发性检查（有可能被放入队列）。在MySQL 5.6.6版本中默认值是5000，之前的版本中500。

* <a name="sysvar_innodb_data_file_path"/> `innodb_data_file_path`

<div class="informaltable">
<table summary="Options for innodb_data_file_path" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_data_file_path=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_data_file_path</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_file_path">innodb_data_file_path</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ibdata1:10M:autoextend</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ibdata1:12M:autoextend</code></td></tr></tbody></table>
</div>

InnoDB[数据文件](../glossary.md#g_data_files)的路径和大小。每个数据文件的全路径，是由[`innodb_data_home_dir`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_home_dir)和该变量指定的每个路径连接而成的。文件大小使用K、M或G后缀指定KB、MB或GB(1024MB)。文件的总大小必须至少略大于10MB。如果不指定`innodb_data_file_path`，默认的行为是创建一个自动扩展的、略大于12MB的、名为`ibdata1`的数据文件。单个文件的大小限制是由操作系统决定的。你可以在那些支持大文件的操作系统设置文件大小超过4GB。你还可以[使用原始磁盘分区作为数据文件](../Chapter_14/14.02.02_Administering_InnoDB.md#14.02.02.03)。关于InnoDB[表空间](../glossary.md#g_tablespace)文件配置的详细信息，请查看[14.2.1.2节,“配置InnoDB”](../Chapter_14/14.02.01_getting_started_with_innodb_tables.md#14.02.01.02)。

* <a name="sysvar_innodb_data_home_dir"/> `innodb_data_home_dir`

<div class="informaltable">
<table summary="Options for innodb_data_home_dir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_data_home_dir=path</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_data_home_dir</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_home_dir">innodb_data_home_dir</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr></tbody></table>
</div>

[系统表空间](../glossary.md#g_system_tablespace)中所有InnoDB[数据文件](../glossary.md#g_data_files)的目录路径的通用部分。当[`innodb_file_per_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table)启用时，该设置不会影响[`file-per-table`](../glossary.md#g_file_per_table)表空间的位置。默认值是MySQL数据目录。如果该值设置为空字符串，你可以在[`innodb_data_file_path`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_data_file_path)中使用绝对文件路径。

* <a name="sysvar_innodb_disable_sort_file_cache"/> `innodb_disable_sort_file_cache`

<div class="informaltable">
<table summary="Options for innodb_disable_sort_file_cache" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_disable_sort_file_cache=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_disable_sort_file_cache</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_disable_sort_file_cache">innodb_disable_sort_file_cache</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

如果启用该变量，临时文件的合并排序时将禁用操作系统文件系统的缓存。效果相当于使用`O_DIRECT`选项打开这些文件。该变量是在MySQL 5.6.4中新增的。

* <a name="sysvar_innodb_doublewrite"/> `innodb_doublewrite`

<div class="informaltable">
<table summary="Options for innodb_doublewrite" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb-doublewrite</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_doublewrite</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_doublewrite">innodb_doublewrite</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr></tbody></table>
</div>

如果此变量被启用(默认)，InnoDB所有数据会保存两次，第一次到[doublewrite缓冲区](../glossary.md#g_doublewrite_buffer)，然后到实际的[数据文件](../glossary.md#g_data_files)。在基准测试或需要最高性能而不关心数据完整性或可能的失败的情况下，可以使用`--skip-innodb_doublewrite`关掉这个变量，。

* `innodb_fast_shutdown`

<div class="informaltable">
<table summary="Options for innodb_fast_shutdown" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_fast_shutdown[=#]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_fast_shutdown</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_fast_shutdown">innodb_fast_shutdown</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="6">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">2</code></td></tr></tbody></table>
</div>

InnoDB[关闭](../glossary.md#g_shutdown)的模式。如果该值为0，InnoDB执行[慢关闭(slow shutdown)](../glossary.md#g_slow_shutdown)，在关机之前会执行一次完整的[清除](../glossary.md#g_purge)和插入缓冲合并。如果该值为1(默认)，InnoDB在关机前跳过这些操作，该过程称为[快关闭(fast shutdown)](../glossary.md#g_fast_shutdown)。如果该值为2，InnoDB刷新日志然后冷关机，就像MySQL已经崩溃；未提交的事务会丢失，但[崩溃恢复](../glossary.md#g_crash_recovery)操作会导致下一次启动需要更长时间。

在极端情况下，如果大量的数据仍然在缓冲区中，慢关闭可能会花费几分钟、甚至几小时。在MySQL主要版本之间升级或降级请使用慢关机技术，这样所有的数据文件做好充分的准备，以防升级过程更新文件格式。

在紧急情况或故障检修时使用`innodb_fast_shutdown=2`，有数据损坏风险的情况时，可以实现绝对最快的关机。

* <a name="sysvar_innodb_file_format"/> `innodb_file_format`

<div class="informaltable">
<table summary="Options for innodb_file_format" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_file_format=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_file_format</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format">innodb_file_format</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">Antelope</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">Antelope</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">Barracuda</code></td></tr></tbody></table>
</div>

用于新InnoDB表的[文件格式](../glossary.md#g_file_format)。目前，支持`Antelope`和`Barracuda`。只对那些有自己的[表空间](../glossary.md#g_tablespace)表起作用，因此，要使该选项生效，必须启用[`innodb_file_per_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table)。[`Barracuda`](../glossary.md#g_Barracuda)文件格式是某些InnoDB特性必需的，如表[压缩](../glossary.md#g_compression)。

* `innodb_file_format_check`

<div class="informaltable">
<table summary="Options for innodb_file_format_check" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_file_format_check=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_file_format_check</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_check">innodb_file_format_check</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

这个变量可以在服务器启动时设置为1或0，启用或禁用InnoDB检查[系统表空间](../glossary.md#g_system_tablespace)中的[文件格式](../glossary.md#g_file_format)标记(如，`Antelope` 或 `Barracuda`)。如果被检查的标签高于InnoDB当前支持的版本，将发生错误且InnoDB不会启动。如果标签不高，InnoDB将[`innodb_file_format_max`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_max)的值设置为该文件格式标签。

> 注意
>  
> 尽管默认值有时被显示为`ON`或`OFF`，在配置文件或命令行中，请始终使用数值1或0打开或关闭该选项。


* <a name="sysvar_innodb_file_format_max"/> `innodb_file_format_max`

<div class="informaltable">
<table summary="Options for innodb_file_format_max" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_file_format_max=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_file_format_max</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_max">innodb_file_format_max</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">Antelope</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">Antelope</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">Barracuda</code></td></tr></tbody></table>
</div>

在服务器启动时，InnoDB将该变量的值设置为[系统表空间](../glossary.md#g_system_tablespace)中的[文件格式](../glossary.md#g_file_format)标记(如，`Antelope` 或 `Barracuda`)。如果该服务器使用“更高”的文件格式创建或打开了一个表，[`innodb_file_format_max`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format_max)将被设置为那种更高的文件格式。

* <a name="sysvar_innodb_file_per_table"/> `innodb_file_per_table`

<div class="informaltable">
<table summary="Options for innodb_file_per_table" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_file_per_table</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_file_per_table</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table">innodb_file_per_table</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

当启用`innodb_file_per_table`(5.6.6和更高版本中默认)，InnoDB为每个新创建的表在一个单独的[`.ibd`文件](../glossary.md#g_ibd_file)中存储数据和索引，而不存储在系统表空间。当这样的表被删除或截断时，这些InnoDB表的存储空间将被回收。该设置启用了其他几个InnoDB特性，如表[压缩](../glossary.md#g_compression)。关于该功能细节以及使用独立表空间优点和缺点，请查看[5.4.1章,“管理InnoDB表空间”](../Chapter_05/05.04.01_Managing_InnoDB_Tablespaces.md)。

当禁用`innodb_file_per_table`，InnoDB所有表的数据和索引存储在[ibdata文件](../glossary.md#g_ibdata_file)构成的[系统表空间](../glossary.md#g_system_tablespace)。这个设置会降低`DROP TABLE`或`TRUNCATE TABLE`等操作引起的文件系统操作的性能。它最适用于服务器环境中所有的存储设备只用于MySQL数据的情况。因为系统表空间永远不会收缩，并且在一个[实例](../glossary.md#g_instance)中的所有数据库中共享，当`innodb_file_per_table=OFF`时，避免了在一个空间受限的系统中加载大量的临时数据。在这种情况下创建的单独实例，你可以删除整个实例进行空间回收。

默认情况下，MySQL 5.6.6中`innodb_file_per_table`默认启用，之前的版本中默认是禁用的。如果与MySQL 5.5或5.1的向后兼容性很关键，请考虑禁用它。这将防止[ALTER TABLE](../Chapter_13/13.01.07_ALTER_TABLE_Syntax.md) 将[InnoDB](../Chapter_14/14.02.00_the_innodb_storage_engine.md)表从系统表空间移动到单独的`.ibd`文件。

* <a name="sysvar_innodb_flush_log_at_timeout"/> `innodb_flush_log_at_timeout`

<div class="informaltable">
<table summary="Options for innodb_flush_log_at_timeout" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_timeout">innodb_flush_log_at_timeout</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 2700</code></td></tr></tbody></table>
</div>

每*`N`*秒写入并刷新日志。[`innodb_flush_log_at_timeout`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_timeout)在MySQL 5.6.6中被引入。它允许延长两次刷新之间的超时周期，以减少刷新次数，避免影响二进制日志组提交的性能。在MySQL 5.6.6之前，刷新频率是每秒一次。[`innodb_flush_log_at_timeout`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_timeout)的默认设置也是每秒一次。

* <a name="sysvar_innodb_flush_log_at_trx_commit"/> `innodb_flush_log_at_trx_commit`

<div class="informaltable">
<table summary="Options for innodb_flush_log_at_trx_commit" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_flush_log_at_trx_commit[=#]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_flush_log_at_trx_commit</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_trx_commit">innodb_flush_log_at_trx_commit</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="6">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">2</code></td></tr></tbody></table>
</div>

控制严格遵从[ACID](../glossary.md#g_ACID)进行[提交](../glossary.md#g_commit)或将提交相关的I/O操作进行重新排列并批量执行以取得更高的性能之间的平衡。你可以通过改变缺省值取得更好的性能，但这样可能在崩溃时会丢失一秒的[事务](../glossary.md#g_transaction)。

- 默认值是1，需要完整遵从ACID。使用这个值，在每个事务提交的时候[日志缓冲区](../glossary.md#g_log_buffer)被写入[日志文件](../glossary.md#g_log_file)，并执行[刷新](../glossary.md#g_flush)到磁盘的操作。
 
- 值为0时，任何[mysqld](../Chapter_04/04.03.01_mysqld_The_MySQL_Server.md)进程崩溃可能会删除最后一秒的事务。日志缓冲区每秒写入日志文件一次，并执行刷新到磁盘的操作，但事务提交的时候没有写操作。
 
- 值为2时，只有操作系统崩溃或停电可能删除最后一秒的事务。在每次提交后日志缓冲区都被写入到日志文件，但不执行刷新到磁盘的操作。在MySQL 5.6.6中，刷新到日志文件的操作每秒一次。但请注意，因为进程调度问题，每秒一次的刷新不能100%保证每秒都会发生。在MySQL 5.6.6中，刷新频率是由[`innodb_flush_log_at_timeout`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_log_at_timeout)控制的。

- InnoDB的[崩溃恢复](../glossary.md#g_crash_recovery)工作将忽略该值。事务将被完整应用或完整回滚。

为了复制配置中的InnoDB事务获得最大可能的持久性和一致性，请在主库的my.cnf文件中设置`innodb_flush_log_at_trx_commit=1` 和 `sync_binlog = 1`。

> **警告**
> 
> 许多操作系统和一些磁盘硬件可能会愚弄刷新到磁盘的操作。他们可能告诉[mysqld](../Chapter_04/04.03.01_mysqld_The_MySQL_Server.md)刷新已经完成，但实际上并没有。即使设置是1，事务的持久性也是无法保证的，在最坏的情况下断电甚至可能会损坏InnoDB数据。使用带电池的磁盘缓存的SCSI磁盘控制器或在磁盘本身加速文件刷新，使操作更安全。你也可以尝试使用Unix命令`hdparm`禁用磁盘写在硬件缓存中，或使用其他一些特定硬件厂商的命令。

* <a name="sysvar_innodb_flush_method"/> `innodb_flush_method`

<div class="informaltable">
<table summary="Options for innodb_flush_method" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_flush_method=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_flush_method</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_method">innodb_flush_method</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (linux)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (hpux)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (solaris)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="2" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" rowspan="7">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (linux)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="4" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT_NO_FSYNC</code></td></tr><tr><td scope="row" rowspan="7">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (solaris)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="4" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT_NO_FSYNC</code></td></tr><tr><td scope="row" rowspan="7">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span> (hpux)</td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" rowspan="4" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">fdatasync</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DSYNC</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">O_DIRECT_NO_FSYNC</code></td></tr></tbody></table>
</div>

控制用来[刷新](../glossary.md#g_flush)数据到InnoDB[数据文件](../glossary.md#g_data_files)和[日志文件](../glossary.md#g_log_file)的系统调用，可能对I/O吞吐量有影响。该变量只影响Unix和Linux系统。在Windows系统中，刷新方法永远是`async_unbuffered`，不能更改。

默认情况下，InnoDB使用`fsync()`系统调用来刷新数据和日志文件。如果[`innodb_flush_method`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_method)选项设置为`O_DSYNC`，InnoDB使用`O_SYNC`打开和刷新日志文件，用`fsync()`刷新数据文件。如果设置为`O_DIRECT`(可用于一些GNU/Linux、FreeBSD、Solaris)，InnoDB使用`O_DIRECT`(或Solaris的`directio()`)打开数据文件，并使用`fsync()`刷新数据和日志文件。注意，InnoDB使用`fsync()`替代`fdatasync()`，它不使用默认的`O_DSYNC`，因为在许多Unix的变种系统中有问题。

另一个设置是`O_DIRECT_NO_FSYNC`:它在刷新I/O时使用`O_DIRECT`，但之后跳过`fsync()`系统调用。这个设置只适用于某些类型的文件系统。例如，它是不适用于XFS。如果你不确定文件系统是否需要一个`fsync()`调用，例如保存所有文件的元数据，请使用`O_DIRECT`代替。

根据硬件配置，将`innodb_flush_method`设置为`O_DIRECT`或`O_DIRECT_NO_FSYNC`可能会有正面或负面的性能影响。对特定配置进行基准测试决定使用哪些设置，或是否使用默认值。检查[`Innodb_data_fsyncs`](../Chapter_05/05.01.06_Server_Status_Variables.md#statvar_Innodb_data_fsyncs)状态变量获得每种设置下`fsync()`调用的次数。工作负载中的混合读写操作也会对哪个设置表现更好产生影响。例如，在具有硬件RAID控制器和带后备电池的写缓存的系统中，用`O_DIRECT`可以避免InnoDB缓冲池与操作系统的文件系统缓存之间的双缓冲区。在一些系统中，InnoDB数据和日志文件位于SAN上，对主要是`SELECT`语句的以读为主的工作负载，使用默认值或`O_DSYNC`可以更快。请使用与生产环境具有相同类型的硬件和工作负载测试这个参数。一般I/O调优建议，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

以前，`fdatasync`的值指定了默认的行为。这个值已被移除，由于混乱，在刷新时`fdatasync`的值引起`fsync()`系统调用，而不是`fdatasync()`。为了使用默认值，在启动时不要为[`innodb_flush_method`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_method)设置任何值。

* <a name="sysvar_innodb_flush_neighbors"> `innodb_flush_neighbors`

<div class="informaltable">
<table summary="Options for innodb_flush_neighbors" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_flush_neighbors</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_flush_neighbors</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_neighbors">innodb_flush_neighbors</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="6">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">2</code></td></tr></tbody></table>
</div>

指定从InnoDB[缓冲池](../glossary.md#g_buffer_pool)中[刷新](../glossary.md#g_flush)一个页时，是否也刷新在相同[区(extent)](../glossary.md#g_extent)上的其他[脏页](../glossary.md#g_dirty_page)。

- 默认值为1，从缓冲池中刷新在相同区上的连续的脏页。

- 设置为0，关闭`innodb_flush_neighbors`，不会刷新缓冲池中的其他脏页。

- 设置为2，从缓冲池中刷新在相同区上的脏页。

当表数据存储在一个传统的[HDD](../glossary.md#g_HDD)存储设备上，在同一操作中刷新[相邻页](../glossary.md#g_neighbor_page)与在不同时间刷新单独的页相比，可以减少I/O开销(主要用于磁盘寻求操作)。如果表数据存储在[SSD](../glossary.md#g_SSD)上，寻道时间不是一个重要因素，你可以关闭此设置进行写操作。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_flushing_avg_loops`

<div class="informaltable">
<table summary="Options for innodb_flushing_avg_loops" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_flushing_avg_loops=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_flushing_avg_loops</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flushing_avg_loops">innodb_flushing_avg_loops</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">30</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1000</code></td></tr></tbody></table>
</div>

InnoDB保留以前计算的刷新状态的快照的迭代次数，控制[自适应刷新](../glossary.md#g_adaptive_flushing)如何快速响应不断变化的[工作负载](../glossary.md#g_workload)。加大该值可使[刷新](../glossary.md#g_flush)操作速率随着工作量的变化改变的更平顺。减小该值会使自适应性刷新快速调整以适用工作负载的变化，工作负载突然增加和减少的时候可能会导致刷新活动出现峰值。

* <a name="sysvar_innodb_force_load_corrupted"/> `innodb_force_load_corrupted`

<div class="informaltable">
<table summary="Options for innodb_force_load_corrupted" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_force_load_corrupted</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_force_load_corrupted</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_force_load_corrupted">innodb_force_load_corrupted</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

让InnoDB在启动时加载已标记为损坏的表。只在故障排除时使用，否则可能无法恢复数据。当故障排除完成后，将此设置关闭并重新启动服务器。

* `innodb_force_recovery`

<div class="informaltable">
<table summary="Options for innodb_force_recovery" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_force_recovery=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_force_recovery</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_force_recovery">innodb_force_recovery</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="10">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" rowspan="7" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">2</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">3</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">4</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">5</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">6</code></td></tr></tbody></table>
</div>

[崩溃恢复](../glossary.md#g_crash_recovery)的模式，通常只在严重的故障排除的情况下修改。值从0到6可选。这些值的含义请参见[14.2.4.6节,“在损坏的数据库上启动InnoDB”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.06)。

> **警告**
> 
> 只在紧急情况下设置此变量大于0，以便从一个损坏的数据库中导出表。作为一种安全措施，当这个变量大于0时，InnoDB会阻止修改任何数据。这种限制也会禁止一些使用WHERE或ORDER BY子句的查询，因为这些大于0的值会阻止查询使用索引，以防损坏索引数据。

* <a name="sysvar_innodb_ft_aux_table"/> `innodb_ft_aux_table`

<div class="informaltable">
<table summary="Options for innodb_ft_aux_table" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_aux_table">innodb_ft_aux_table</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>

指定包含全文索引的InnoDB表的限定名称。该变量用于诊断目的，只能在运行时设置。例如:

	mysql> set global innodb_ft_aux_table = 'test/t1';

试图在启动时设置此变量将导致一个`“mysqld: option '--innodb-ft-aux-table' cannot take an argument”`的错误，并且启动将中止。当该变量使用名称格式`db_name/table_name`设置之后，`INFORMATION_SCHEMA`表[`INNODB_FT_INDEX_TABLE`](../Chapter_20/20.30.22_The_INFORMATION_SCHEMA_INNODB_FT_INDEX_TABLE_Table.md)、[`INNODB_FT_INDEX_CACHE`](../Chapter_20/20.30.23_The_INFORMATION_SCHEMA_INNODB_FT_INDEX_CACHE_Table.md)、[`INNODB_FT_CONFIG`](../Chapter_20/20.30.20_The_INFORMATION_SCHEMA_INNODB_FT_CONFIG_Table.md)、[`INNODB_FT_DELETED`](../Chapter_20/20.30.24_The_INFORMATION_SCHEMA_INNODB_FT_DELETED_Table.md)和[`INNODB_FT_BEING_DELETED`](../Chapter_20/20.30.25_The_INFORMATION_SCHEMA_INNODB_FT_BEING_DELETED_Table.md)将显示指定表的查找索引的信息。

* <a name="sysvar_innodb_ft_cache_size"/> `innodb_ft_cache_size`

<div class="informaltable">
<table summary="Options for innodb_ft_cache_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_cache_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_cache_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_cache_size">innodb_ft_cache_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.4, &lt;= 5.6.9)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">32000000</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.10)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8000000</code></td></tr></tbody></table>
</div>

当创建InnoDB 全文索引时，保持内存中解析过的文档的缓存大小。

* <a name="sysvar_innodb_ft_enable_diag_print"/> `innodb_ft_enable_diag_print`

<div class="informaltable">
<table summary="Options for innodb_ft_enable_diag_print" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_enable_diag_print=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_enable_diag_print</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_diag_print">innodb_ft_enable_diag_print</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

是否启用额外的全文索引诊断信息输出。

* <a name="sysvar_innodb_ft_enable_stopword"/> `innodb_ft_enable_stopword`

<div class="informaltable">
<table summary="Options for innodb_ft_enable_stopword" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_enable_stopword=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_enable_stopword</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_stopword">innodb_ft_enable_stopword</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

创建索引时指定一组与InnoDB 全文索引相关的[`stopwords`](../glossary.md#g_stopword)。如果设置了[`innodb_ft_user_stopword_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_user_stopword_table)选项，stopwords则取自该表。如果设置了[`innodb_ft_server_stopword_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_server_stopword_table)，stopwords则取自该表。否则，使用内置默认的一组stopwords。

* <a name="sysvar_innodb_ft_max_token_size"> `innodb_ft_max_token_size`

<div class="informaltable">
<table summary="Options for innodb_ft_max_token_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_max_token_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_max_token_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_max_token_size">innodb_ft_max_token_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">84</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">10 .. 252</code></td></tr></tbody></table>
</div>

存储在InnoDB 全文索引中单词的最大长度。设定该值的上限可以减少索引的大小，忽略掉长关键词或任意集合的字符，从而加快查询，因为这些可能不是真正的单词，不太可能作为搜索条件。

* <a name="sysvar_innodb_ft_min_token_size"/> `innodb_ft_min_token_size`

<div class="informaltable">
<table summary="Options for innodb_ft_min_token_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_min_token_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_min_token_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_min_token_size">innodb_ft_min_token_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">3</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 16</code></td></tr></tbody></table>
</div>

存储在InnoDB 全文索引中单词的最小长度。加大该值可以减少索引的大小，省略常见词，从而加快查询，因为这些的在搜索上下文中可能不太重要，如英语单词“a”和“to”。如果内容使用CJK(中国、日本、韩国)字符集，请指定该值为1。

* <a name="sysvar_innodb_ft_num_word_optimize"/> `innodb_ft_num_word_optimize`

<div class="informaltable">
<table summary="Options for innodb_ft_num_word_optimize" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_num_word_optimize=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_num_word_optimize</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_num_word_optimize">innodb_ft_num_word_optimize</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">2000</code></td></tr></tbody></table>
</div>

InnoDB 全文索引上每个[`OPTIMIZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.04)操作处理的单词数。因为在包含全文索引的表上执行批量插入或更新操作需要大量的索引维护操作来合并所有的修改，因此，一般会运行一系列[`OPTIMIZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.04)语句，每次从上一次的位置开始，处理指定数量的词，直到索引被完全更新。

* <a name="sysvar_innodb_ft_server_stopword_table"/> `innodb_ft_server_stopword_table`

<div class="informaltable">
<table summary="Options for innodb_ft_server_stopword_table" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_server_stopword_table=db_name/table_name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_server_stopword_table</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_server_stopword_table">innodb_ft_server_stopword_table</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">NULL</code></td></tr></tbody></table>
</div>

包含创建InnoDB 全文索引时会忽略的单词表，格式是`db_name/table_name`。

> **注意**
> 
> stopword表必须是一个InnoDB表，包含唯一一个名为`VALUE`的`VARCHAR`列。stopword表必须在指定前就已经存在。

* <a name="sysvar_innodb_ft_sort_pll_degree"/> `innodb_ft_sort_pll_degree`

<div class="informaltable">
<table summary="Options for innodb_ft_sort_pll_degree" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_sort_pll_degree=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_sort_pll_degree</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_sort_pll_degree">innodb_ft_sort_pll_degree</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">2</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 32</code></td></tr></tbody></table>
</div>

为一个大表构建[搜索索引](../glossary.md#g_search_index)时，InnoDB全文索引中用于并行索引和文本分词的线程数量。

* <a name="sysvar_innodb_ft_user_stopword_table"/> `innodb_ft_user_stopword_table`

<div class="informaltable">
<table summary="Options for innodb_ft_user_stopword_table" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_ft_user_stopword_table=db_name/table_name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_ft_user_stopword_table</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_user_stopword_table">innodb_ft_user_stopword_table</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">NULL</code></td></tr></tbody></table>
</div>

包含创建InnoDB 全文索引时会忽略的单词表，格式是`db_name/table_name`。

> **注意**
> 
> stopword表必须是一个InnoDB表，包含唯一一个名为`VALUE`的`VARCHAR`列。stopword表必须在指定前就已经存在。

* <a name="sysvar_innodb_io_capacity"/> `innodb_io_capacity`

<div class="informaltable">
<table summary="Options for innodb_io_capacity" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_io_capacity=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_io_capacity</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity">innodb_io_capacity</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">200</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">100 .. 2**32-1</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">64</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">200</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">100 .. 2**64-1</code></td></tr></tbody></table>
</div>

[`innodb_io_capacity`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity)参数设置InnoDB后台任务I/O活动的上限，例如从[缓冲池](../glossary.md#g_buffer_pool)中[刷新](../glossary.md#g_flush)页和从[插入缓冲区](../glossary.md#g_insert_buffer)中合并数据的后台任务。默认值是200。对于繁忙的系统和更强的I/O速率，你可以在服务器启动时设置一个更高的值，帮助服务器处理后台维护工作与高速率的行变化保持一致。

> **注意**
> 
> 在服务器启动时指定[`innodb_io_capacity`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity)的值，将使[`innodb_io_capacity_max`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity_max)不可用。

对于只有单个5400 RPM或7200 RPM驱动器的系统，你可以将设置降低为以前的默认值100。

这个参数应该设置为系统每秒可以执行的I/O操作的大概数量。理想情况下，保持这个设置尽可能低，但不要低到使后台活动落后。如果该值过高，数据将从缓冲池中删除和插入缓冲区的速度太快，无法获得缓存的显著益处。

该值代表每秒I/O操作(IOPS)的估计比例，老一代磁盘驱动器约可以执行100 IOPS。当前的默认200反映了现代存储设备有更高的I/O能力。

一般来说，你可以增加用于[InnoDB](../Chapter_14/14.02.00_the_innodb_storage_engine.md)I/O的驱动器数量，尤其是具有更高的IOPS的快速驱动器。例如，[InnoDB](../Chapter_14/14.02.00_the_innodb_storage_engine.md)使用了多个磁盘或固态磁盘的系统，可以从这个参数的可控性中受益。

虽然可以指定一个非常高的数字，但实际上这样的大值几乎没有任何好处；例如，一百万是非常高的设置了。

你可以设置`innodb_io_capacity`的值为大于或等于100的任意数，默认值为200。可以在MySQL选项文件中(my.cnf或my.ini)设置该参数值，或动态地使用`SET GLOBAL`语句修改，但需要`SUPER`权限。

查看[14.2.4.2.20节,“控制InnoDB主线程的I/O速率”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02.20)来获得更多关于该选项的信息。关于InnoDB的I/O性能的一般信息，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_io_capacity_max"/> `innodb_io_capacity_max`

<div class="informaltable">
<table summary="Options for innodb_io_capacity_max" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_io_capacity_max=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_io_capacity_max</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity_max">innodb_io_capacity_max</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">see formula in description</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">2000 .. 4294967295</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">64</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">see formula in description</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">2000 .. 18446744073709547520</code></td></tr></tbody></table>
</div>

在紧急情况下，针对每个缓冲池实例，InnoDB允许[`innodb_io_capacity`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity)的设置扩展到的上限值。默认值在服务器启动时生效，是[`innodb_io_capacity`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity)默认值的两倍，最小值是2000。如果在服务器启动时为[`innodb_io_capacity`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_io_capacity)指定了任何值，该参数将不起作用。

在MySQL 5.6开发期间的一个短暂时期，这个变量名为`innodb_max_io_capacity`。

* <a name="sysvar_innodb_large_prefix"/> `innodb_large_prefix`

<div class="informaltable">
<table summary="Options for innodb_large_prefix" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_large_prefix</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_large_prefix</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_large_prefix">innodb_large_prefix</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

对于使用[DYNAMIC](../glossary.md#g_dynamic_row_format)和[COMPRESSED](../glossary.md#g_compressed_row_format)行格式的InnoDB表，启用这个选项允许[索引前缀](../glossary.md#g_index_prefix)超过767字节(最高到3072字节)。(创建这样的表也需要设置选项[`innodb_file_format=barracuda`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_format)及[`innodb_file_per_table=true`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table))。不同设置下与索引键前缀关联的相关最大值，请查看[14.2.7章,“InnoDB表的限制”](../Chapter_14/14.02.07_Limits_on_InnoDB_Tables.md)。

对于使用[REDUNDANT](../glossary.md#g_redundant_row_format)和[COMPACT](../glossary.md#g_compact_row_format)行格式的表，这个选项不会影响最大键前缀长度。这可能引入一个新的错误可能性。启用该设置时，试图为`REDUNDANT`或`COMPACT`格式的表创建一个键长度大于3072的索引前缀会产生一个错误`ER_INDEX_COLUMN_TOO_LONG`(1727)。

* <a name="sysvar_innodb_lock_wait_timeout"/> `innodb_lock_wait_timeout`

<div class="informaltable">
<table summary="Options for innodb_lock_wait_timeout" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_lock_wait_timeout=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_lock_wait_timeout</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_lock_wait_timeout">innodb_lock_wait_timeout</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">50</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1073741824</code></td></tr></tbody></table>
</div>

InnoDB[事务](../glossary.md#g_transaction)放弃之前等待[行锁](../glossary.md#g_row_lock)的超时秒数。默认值是50秒。当一个事务试图访问并进行写操作正被另一个事务锁定的一行数据，至少等待这些秒直到发出以下错误:

	ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction

当发生锁等待超时，当前语句被[回滚](../glossary.md#g_rollback)(不是整个事务)。如果要使整个事务回滚，请使用 [`--innodb_rollback_on_timeout`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_on_timeout)选项启动服务器。参见[14.2.3.14节,“InnoDB错误处理”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.14)。

对于高度交互的应用程序或[OLTP](../glossary.md#g_OLTP)系统，你可以降该值，以便快速显示用户反馈或把更新放入一个队列以后处理。对于长时间运行的后台操作，你可以增加该值，如数据仓库中的转换步骤，要等待其他大型插入或更新操作完成。

`innodb_lock_wait_timeout`只适用于InnoDB行锁。在InnoDB内不会产生MySQL[表锁](../glossary.md#g_table_lock)，并且这个超时不适用于等待表锁。

锁等待超时的值并不适用于[死锁](../glossary.md#g_deadlock)，因为InnoDB会立刻检测并回滚死锁事务中的一个事务。

* `innodb_locks_unsafe_for_binlog`

<div class="informaltable">
<table summary="Options for innodb_locks_unsafe_for_binlog" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_locks_unsafe_for_binlog</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_locks_unsafe_for_binlog</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_locks_unsafe_for_binlog">innodb_locks_unsafe_for_binlog</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

这个变量会影响搜索和索引扫描时InnoDB如何使用[间隙锁(gap locking)](../glossary.md#g_gap_lock)。在MySQL 5.6.3中，`innodb_locks_unsafe_for_binlog`已经弃用并且在将来的MySQL版本中会被删除。

通常，InnoDB使用一种索引行锁与[间隙锁](../glossary.md#g_gap_lock)结合的被称为next-key锁的算法。当搜索或扫描表的索引时，InnoDB使用行级锁定，它在搜索到的索引记录上设置共享或排他锁。因此，行级锁实际上是索引记录锁。此外，索引记录上的next-key锁也影响索引记录之前的“间隙”。也就是说，一个next-key锁是一个索引记录锁加上索引记录前间隙上的间隙锁。如果一个会话在一个索引记录R上有一个共享或排他锁，另一个会话无法立即在R之前的间隙上插入一个新的索引记录。请查看[14.2.3.5节,“InnoDB的记录锁、间隙锁、Next-Key锁”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.05)。

默认情况下，`innodb_locks_unsafe_for_binlog`的值是0(关闭)，这意味着间隙锁是启用的:InnoDB在搜索和索引扫描时使用next-key锁。要启用该量，将其设置为1。这将禁用间隙锁:InnoDB在搜索和索引扫描时只使用索引记录锁。

启用`innodb_locks_unsafe_for_binlog`不会影响在外键约束检查或重复键检查时禁用间隙锁。

与启用`innodb_locks_unsafe_for_binlog`的效果相似但不相同的设置是将事务隔离级别设置为[`READ COMMITTED`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#READ_COMMITTED)):

- 启用[`innodb_locks_unsafe_for_binlog`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_locks_unsafe_for_binlog)是一个全局性的设置，会影响所有会话，而隔离级别可以为所有会话全局设置，也每个会话单独设置。

- [`innodb_locks_unsafe_for_binlog`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_locks_unsafe_for_binlog)只能在服务器启动时设置，而隔离级别可以在启动时设置或运行时修改。

因此，[`READ COMMITTED`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#READ_COMMITTED))比[`innodb_locks_unsafe_for_binlog`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_locks_unsafe_for_binlog)提供更好的、更灵活的控制。对于隔离级别对间隙锁影响的更多细节，查看[13.3.6章,“设置事务语法”](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md)。

启用`innodb_locks_unsafe_for_binlog`可能会引起幻像(phantom)问题，因为当禁用间隙锁时，其他会话可以在间隙插入新行。假设在`child`表的`id`列上有一个索引，你想读取并锁定该表中`id`值大于100的所有行，目的是随后在选定的行中更新某些列:

	SELECT * FROM child WHERE id > 100 FOR UPDATE;

查询从第一个id大于100的记录开始扫描索引。如果在这个范围内的索引记录上的锁设置不锁定在间隙上插入，另一个会话就可以在该表插入一个新行。因此，如果在同一事务中执行相同的[`SELECT`](../Chapter_13/13.02.09_SELECT_Syntax.md)，你将在查询返回的结果集中看到一个新的行。这也意味着，如果数据库中新增了记录，InnoDB并不能保证可串行性。因此，如果启用了`innodb_locks_unsafe_for_binlog`，InnoDB最多只能保证[`READ COMMITTED`](../Chapter_13/13.03.06_SET_TRANSACTION_Syntax.md#READ_COMMITTED))隔离级别。 (冲突可串行性仍然是可以保证的。)关于幻像的更多信息，参见[14.2.3.6节,“使用Next-Key锁避免幻像问题”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.06)。

启用`innodb_locks_unsafe_for_binlog`的其他影响:

- 对于[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)或[`DELETE`](../Chapter_13/13.02.02_DELETE_Syntax.md) 语句，InnoDB只对更新或删除的行持有锁。在MySQL评估完WHERE条件后，那些未匹配的行上的记录锁会被释放。这大大减少了死锁的可能性，但仍然可能发生。

- 对于[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)语句，如果数据行已经被锁定，InnoDB会执行“半一致性”读，返回最新提交的版本给MySQL，MySQL可以判断行与[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)的条件是否匹配。如果数据行匹配(必须更新)，MySQL再次读取该行并且这次InnoDB会锁定它或等待锁定它。

思考一下下面的示例，从该表开始:

	CREATE TABLE t (a INT NOT NULL, b INT) ENGINE = InnoDB;
	INSERT INTO t VALUES (1,2),(2,3),(3,2),(4,3),(5,2);
	COMMIT;

在这种情况下，表没有索引，因此搜索和索引扫描使用隐藏的聚集索引进行记录锁定(参见[14.2.3.12.2节,“聚集索引和二级索引”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.12.02))。

假设一个客户端使用下面这个语句执行[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md):

	SET autocommit = 0;
	UPDATE t SET b = 5 WHERE b = 3;

假设另外一个客户端在第一个客户端之后使用下面的语句执行[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md):
	
	SET autocommit = 0;
	UPDATE t SET b = 4 WHERE b = 2;

当InnoDB执行每个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)时，它首先每行获取一个排他锁，然后决定是否要修改它。如果InnoDB不修改行并且启用了`innodb_locks_unsafe_for_binlog`，它把锁释放。否则，InnoDB会保持锁直到事务结束。这会影响到接下来的事务处理。

如果`innodb_locks_unsafe_for_binlog`是禁用的，第一个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)获得`X`锁且不会释放任何一个:

	x-lock(1,2); retain x-lock
	x-lock(2,3); update(2,3) to (2,5); retain x-lock
	x-lock(3,2); retain x-lock
	x-lock(4,3); update(4,3) to (4,5); retain x-lock
	x-lock(5,2); retain x-lock

当第二个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)试图获得任何锁时立刻被阻塞(因为第一个更新已经在所有行上获得了锁)，直到第一个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)提交或回滚:

	x-lock(1,2); block and wait for first UPDATE to commit or roll back

如果`innodb_locks_unsafe_for_binlog`是启用的，第一个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)获得`X`锁并释放那些不修改的行:

	x-lock(1,2); unlock(1,2)
	x-lock(2,3); update(2,3) to (2,5); retain x-lock
	x-lock(3,2); unlock(3,2)
	x-lock(4,3); update(4,3) to (4,5); retain x-lock
	x-lock(5,2); unlock(5,2)

对于第二个[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)，InnoDB执行“半一致性”读，返回每一行的最新提交的版本到MySQL，以便MySQL可以判断行与[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)的`WHERE`条件是否匹配:

	x-lock(1,2); update(1,2) to (1,4); retain x-lock
	x-lock(2,3); unlock(2,3)
	x-lock(3,2); update(3,2) to (3,4); retain x-lock
	x-lock(4,3); unlock(4,3)
	x-lock(5,2); update(5,2) to (5,4); retain x-lock

* `innodb_log_buffer_size`

<div class="informaltable">
<table summary="Options for innodb_log_buffer_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_log_buffer_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_log_buffer_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_buffer_size">innodb_log_buffer_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8388608</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">262144 .. 4294967295</code></td></tr></tbody></table>
</div>

InnoDB写到磁盘上的[日志文件](../glossary.md#g_log_file)的缓冲区的字节大小。默认值为8MB。一个大的[日志缓冲区](../glossary.md#g_log_buffer)使大型[事务](../glossary.md#g_transaction)在[提交](../glossary.md#g_commit)之前不需要写日志到磁盘。因此，如果你有更新、插入或删除许多行的事务，使较大的日志缓冲区可以节省磁盘I/O。一般的I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_log_compressed_pages`

<div class="informaltable">
<table summary="Options for innodb_log_compressed_pages" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.11</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_log_compressed_pages=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_log_compressed_pages</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_compressed_pages">innodb_log_compressed_pages</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

指定重[压缩](../glossary.md#g_compression)[页](../glossary.md#g_page)的镜像是否存储在InnoDB[重做日志](../glossary.md#g_redo_log)中。

此变量是在MySQL 5.6.11版本中添加的。

* <a name="sysvar_innodb_log_file_size"/> `innodb_log_file_size`

<div class="informaltable">
<table summary="Options for innodb_log_file_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_log_file_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_log_file_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_file_size">innodb_log_file_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.3, &lt;= 5.6.7)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">5242880</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1048576 .. 512GB / innodb_log_files_in_group</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.8)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">50331648</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1048576 .. 512GB / innodb_log_files_in_group</code></td></tr></tbody></table>
</div>

[日志组](../glossary.md#g_log_group)中每个[日志文件](../glossary.md#g_log_file)的字节大小。日志文件合并后的大小(`innodb_log_file_size` * [`innodb_log_files_in_group`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_files_in_group))不能超过略少于512GB的最大值。例如一对255GB的日志文件将让你接近但不超过极限。默认值是48MB。明智的值的范围从1MB到[缓冲池](../glossary.md#g_buffer_pool)大小的1/N，其中N是日志文件组中日志文件数。值越大，越缓冲池的刷新活动需要的检查点越少，越节省磁盘I/O。更大的日志文件也使[崩溃恢复](../glossary.md#g_crash_recovery)更慢，尽管在MySQL 5.5和更高版本中改善了日志文件大小对恢复性能的影响。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_log_files_in_group"/> `innodb_log_files_in_group`

<div class="informaltable">
<table summary="Options for innodb_log_files_in_group" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_log_files_in_group=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_log_files_in_group</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_files_in_group">innodb_log_files_in_group</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">2</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">2 .. 100</code></td></tr></tbody></table>
</div>

[日志组](../glossary.md#g_log_group)中[日志文件](../glossary.md#g_log_file)的数量。InnoDB循环写入这些文件。默认(和推荐)值是2。这些文件的位置由[`innodb_log_group_home_dir`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_group_home_dir)指定。所有日志文件合并后的大小([`innodb_log_file_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_file_size) * `innodb_log_files_in_group`)可以高达512GB。

* <a name="sysvar_innodb_log_group_home_dir"/> `innodb_log_group_home_dir`

<div class="informaltable">
<table summary="Options for innodb_log_group_home_dir" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_log_group_home_dir=path</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_log_group_home_dir</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_group_home_dir">innodb_log_group_home_dir</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">file name</code></td></tr></tbody></table>
</div>

InnoDB[重做日志](../glossary.md#g_redo_log)文件的目录路径，它的数量由['innodb_log_files_in_group'](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_files_in_group)指定。如果不指定任何InnoDB日志变量，默认是在MySQL数据目录创建两个文件名为`ib_logfile0`和`ib_logfile1`的文件。他们的大小是由系统变量[`innodb_log_file_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_log_file_size)指定的。

* <a name="sysvar_innodb_lru_scan_depth"/> `innodb_lru_scan_depth`

<div class="informaltable">
<table summary="Options for innodb_lru_scan_depth" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_lru_scan_depth=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_lru_scan_depth</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_lru_scan_depth">innodb_lru_scan_depth</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1024</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">100 .. 2**32-1</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">64</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1024</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">100 .. 2**64-1</code></td></tr></tbody></table>
</div>

该参数影响InnoDB[缓冲池](../glossary.md#g_buffer_pool)的[刷新](../glossary.md#g_flush)操作的算法和启发式。性能专家主要感兴趣的是优化I/O密集型工作负载。它为每个缓冲池的实例指定缓冲池LRU列表，`page_cleaner`线程扫描该列表寻找[脏页](../glossary.md#g_dirty_page)刷新。此后台操作每秒执行一次。如果你在典型工作负载情况下有剩余的I/O容量，可以提高该值。如果一个写密集型工作负载下的I/O容量已经饱和，请降低该值，特别是当你有一个大的缓冲池时。一般I/O调优建议，请查看[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_max_dirty_pages_pct`

<div class="informaltable">
<table summary="Options for innodb_max_dirty_pages_pct" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_max_dirty_pages_pct=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_max_dirty_pages_pct</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_dirty_pages_pct">innodb_max_dirty_pages_pct</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">75</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 99</code></td></tr></tbody></table>
</div>

InnoDB会尽力从[缓冲池](../glossary.md#g_buffer_pool)[刷新](../glossary.md#g_flush)数据，以保证[脏页](../glossary.md#g_dirty_page)的比例不会超过该值。可以指定一个范围从0到99的整数。默认值是75。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_max_dirty_pages_pct_lwm`

<div class="informaltable">
<table summary="Options for innodb_max_dirty_pages_pct_lwm" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_max_dirty_pages_pct_lwm=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_max_dirty_pages_pct_lwm</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_dirty_pages_pct_lwm">innodb_max_dirty_pages_pct_lwm</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 99</code></td></tr></tbody></table>
</div>

低水位标志表示启用预刷新来控制脏页率的[脏页](../glossary.md#g_dirty_page)比例。默认为0，完全禁用预刷新行为。

* <a name="sysvar_innodb_max_purge_lag"/> `innodb_max_purge_lag`

<div class="informaltable">
<table summary="Options for innodb_max_purge_lag" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_max_purge_lag=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_max_purge_lag</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag">innodb_max_purge_lag</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr></tbody></table>
</div>

这个变量控制当[清除(purge)](../glossary.md#g_purge)操作滞后时如何延迟[INSERT](../Chapter_13/13.02.05_INSERT_Syntax.md)、[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)及[`DELETE`](../Chapter_13/13.02.02_DELETE_Syntax.md)操作(参见[14.2.3.11节,“InnoDB多版本控制”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.11))。默认值为0(无延迟)。

InnoDB事务系统会维护一个事务中被[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)或[`DELETE`](../Chapter_13/13.02.02_DELETE_Syntax.md)操作加了删除标记的索引记录列表。这个列表的长度代表*`purge_lag`*值。当*`purge_lag`*超过[`innodb_max_purge_lag`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag)，每个[INSERT](../Chapter_13/13.02.05_INSERT_Syntax.md)、[`UPDATE`](../Chapter_13/13.02.11_UPDATE_Syntax.md)和[`DELETE`](../Chapter_13/13.02.02_DELETE_Syntax.md)操作都会被延迟。

为防止在*`purge_lag`*非常大的极端情况下过度延迟，你可以通过设置[`innodb_max_purge_lag_delay`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag_delay)配置项以限制延迟量。延迟量是从第一批清除开始计算的。

一个有问题的工作负载的典型设置可能是100万，假设事务很小，只有100字节大小，这将允许未清除的InnoDB表数据行达到100MB。

滞后值作为`History list length`显示在InnoDB Monitor输出的`TRANSACTIONS`部分。例如，如果输出包括以下行，滞后值是20:

	------------
	TRANSACTIONS
	------------
	Trx id counter 0 290328385
	Purge done for trx's n:o < 0 290315608 undo n:o < 0 17
	History list length 20

一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_max_purge_lag_delay"/> `innodb_max_purge_lag_delay`

<div class="informaltable">
<table summary="Options for innodb_max_purge_lag_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.5</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_max_purge_lag_delay=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_max_purge_lag_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag_delay">innodb_max_purge_lag_delay</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Min Value</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr></tbody></table>
</div>

指定由[`innodb_max_purge_lag`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_max_purge_lag)配置项提高的最大延迟毫秒数。任何非零值表示基于`innodb_max_purge_lag`的值计算出来的延迟周期的上限。默认值为零，意味着延迟间隔没有上限。

一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* `innodb_mirrored_log_groups`

无效变量。这个变量在MySQL 5.6.11中已废弃，并且在将来的MySQL版本中将被删除。

* <a name="sysvar_innodb_monitor_disable"/> `innodb_monitor_disable`

<div class="informaltable">
<table summary="Options for innodb_monitor_disable" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_monitor_disable=[counter|module|pattern|all]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_monitor_disable</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_disable">innodb_monitor_disable</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>

关闭一个或多个在[`INFORMATION_SCHEMA.INNODB_METRICS`](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)表中[计数器](../glossary.md#g_counter)。详细使用帮助，请查看[20.30.19章,“`INFORMATION_SCHEMA.INNODB_METRICS`表”](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)。

* <a name="sysvar_innodb_monitor_enable"/> `innodb_monitor_enable`

<div class="informaltable">
<table summary="Options for innodb_monitor_enable" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_monitor_enable=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_monitor_enable</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_enable">innodb_monitor_enable</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>

打开一个或多个在[`INFORMATION_SCHEMA.INNODB_METRICS`](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)表中[计数器](../glossary.md#g_counter)。详细使用帮助，请查看[20.30.19章,“`INFORMATION_SCHEMA.INNODB_METRICS`表”](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)。

* <a name="sysvar_innodb_monitor_reset"/> `innodb_monitor_reset`

<div class="informaltable">
<table summary="Options for innodb_monitor_reset" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_monitor_reset=[counter|module|pattern|all]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_monitor_reset</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset">innodb_monitor_reset</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>

将一个或多个在[`INFORMATION_SCHEMA.INNODB_METRICS`](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)表中[计数器](../glossary.md#g_counter)的计数值重置为0。详细使用帮助，请查看[20.30.19章,“`INFORMATION_SCHEMA.INNODB_METRICS`表”](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)。

* <a name="sysvar_innodb_monitor_reset_all"> `innodb_monitor_reset_all`

<div class="informaltable">
<table summary="Options for innodb_monitor_reset_all" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_monitor_reset_all=[counter|module|pattern|all]</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_monitor_reset_all</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset_all">innodb_monitor_reset_all</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="2">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr></tbody></table>
</div>

将一个或多个在[`INFORMATION_SCHEMA.INNODB_METRICS`](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)表中[计数器](../glossary.md#g_counter)的所有值(最小值、最大值等)重置。详细使用帮助，请查看[20.30.19章,“`INFORMATION_SCHEMA.INNODB_METRICS`表”](../Chapter_20/20.30.19_The_INFORMATION_SCHEMA_INNODB_METRICS_Table.md)。

* <a name="sysvar_innodb_old_blocks_pct"/> `innodb_old_blocks_pct`

<div class="informaltable">
<table summary="Options for innodb_old_blocks_pct" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_old_blocks_pct=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_old_blocks_pct</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_pct">innodb_old_blocks_pct</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">37</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">5 .. 95</code></td></tr></tbody></table>
</div>

指定InnoDB[缓冲池](../glossary.md#g_buffer_pool)用于旧块[sublist](../glossary.md#g_sublist)的大概比例。值的范围是5到95。默认值是37(即池的3/8)。经常与[`innodb_old_blocks_time`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_time)联合使用。查看[8.9.1章,“InnoDB缓冲池”](../Chapter_08/08.09.01_The_InnoDB_Buffer_Pool.md)的获得更多缓冲池管理的信息，如缓冲池的[LRU](../glossary.md#g_LRU)算法和[回收](../glossary.md#g_eviction)策略。

* <a name="sysvar_innodb_old_blocks_time"/> `innodb_old_blocks_time`

<div class="informaltable">
<table summary="Options for innodb_old_blocks_time" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_old_blocks_time=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_old_blocks_time</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_time">innodb_old_blocks_time</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 2**32-1</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1000</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 2**32-1</code></td></tr></tbody></table>
</div>

非零值防止[缓冲池](../glossary.md#g_buffer_pool)被那些只短暂使用的数据填满，比如一次[全表扫描](../glossary.md#g_full_table_scan)。提高该值可以对全表扫描干扰数据缓存到缓冲池的情况提供更多的保护。

指定一个块插入到老[sublist](../glossary.md#g_sublist)后，在它第一次被访问之后，被转移到新sublist之前可以停留多少毫秒(ms)。如果该值为0，一个插入到老sublist的块在第一次被访问之后就会立即移动到新sublist，不管是插入后不久就发生的访问。如果该值大于0，块会留在旧分表，直到一次访问发生后至少多少ms。例如，如果该值为1000，会导致块留在老sublist，直到第一次访问发生1秒后才有资格转移到新sublist。

MySQL 5.6.6版本中默认值是1000，之前的版本默认为0。

该变量经常与[`innodb_old_blocks_pct`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_old_blocks_pct)联合使用。查看[8.9.1章,“InnoDB缓冲池”](../Chapter_08/08.09.01_The_InnoDB_Buffer_Pool.md)的获得更多缓冲池管理的信息，如缓冲池的[LRU](../glossary.md#g_LRU)算法和[回收](../glossary.md#g_eviction)策略。

* `innodb_online_alter_log_max_size`

<div class="informaltable">
<table summary="Options for innodb_online_alter_log_max_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_online_alter_log_max_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_online_alter_log_max_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_online_alter_log_max_size">innodb_online_alter_log_max_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">134217728</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">65536 .. 2**64-1</code></td></tr></tbody></table>
</div>

指定InnoDB表[在线DDL](../glossary.md#g_online_DDL)操作使用的临时日志文件大小的上限。有一个这样的日志文件用于创建索引或修改表。这个日志文件存储在DDL操作期间插入、更新或删除的数据。该临时日志文件在[`innodb_sort_buffer_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sort_buffer_size)的值需要的时候被扩展，最大可以到`innodb_online_alter_log_max_size`的指定值。如果任何临时日志文件超过了大小的上限，[`ALTER TABLE`](../Chapter_13/13.01.07_ALTER_TABLE_Syntax.md)操作将失败并且所有未提交的并发DML操作会被回滚。因此，一个较大的值将允许在线DDL操作期间发生更多的DML，但也导致在DDL操作结束时从日志中应用数据时锁住表的时间更长。

* `innodb_open_files`

<div class="informaltable">
<table summary="Options for innodb_open_files" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_open_files=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_open_files</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_open_files">innodb_open_files</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">300</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">10 .. 4294967295</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">-1 (autosized)</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">10 .. 4294967295</code></td></tr></tbody></table>
</div>

该变量只在使用多个InnoDB[表空间](../glossary.md#g_tablespace)时起作用。它指定MySQL中在同一时间可以保持打开的[.ibd文件](../glossary.md#g_ibd_file)最大数。最小值是10。在MySQL 5.6.6中，如果不启用[`innodb_file_per_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_file_per_table)，默认值是300，否则，会高于300和[`table_open_cache`](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_table_open_cache)。在5.6.6之前，默认值是300。

文件描述符用于`.ibd`文件为InnoDB表只有。他们是独立的规定[`--open-files-limit`](../Chapter_05/05.01.03_Server_Command_Options.md#syscmd_open_files_limit)服务器选项,不影响操作的表缓存。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_optimize_fulltext_only"/> `innodb_optimize_fulltext_only`

<div class="informaltable">
<table summary="Options for innodb_optimize_fulltext_only" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_optimize_fulltext_only=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_optimize_fulltext_only</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_optimize_fulltext_only">innodb_optimize_fulltext_only</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

改变[OPTIMIZE TABLE](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.04)语句在InnoDB表上的操作方式。在维护有全文索引的InnoDB表时暂时启用。

默认情况下，`OPTIMIZE TABLE`整理表上[聚集索引](../glossary.md#g_clustered_index)的数据。当启用该选项时，`OPTIMIZE TABLE `将跳过整理表数据，而新添加、删除和更新全文索引的令牌数据，关于InnoDB表全文索引的更多信息，参见[14.2.3.12.3节,“全文索引”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.12.03)。

* <a name="sysvar_innodb_page_size"/> `innodb_page_size`

<div class="informaltable">
<table summary="Options for innodb_page_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_page_size=#k</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_page_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_page_size">innodb_page_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="9">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">16384</code></td></tr><tr><td scope="row" rowspan="6" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">4k</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">8k</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">16k</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">4096</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">8192</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">16384</code></td></tr></tbody></table>
</div>

为一个MySQL[实例](../glossary.md#g_instance)上的所有InnoDB[表空间](../glossary.md#g_tablespace)指定[页大小](../glossary.md#g_page_size)。该值在创建实例时设置，之后一直保持不变。你可以指定页面大小为`16k`(默认)、`8k`或`4k`。

默认的，最大的页大小，可以适合各种[工作负载](../glossary.md#g_workload)，尤其是对涉及表扫描的查询和涉及批量更新的DML操作。较小的页大小可能对涉及许多微小写操作的[OLTP](../glossary.md#g_OLTP)工作负载更有效，因为如果单个页面包含太多行，页竞争会成为问题。较小的页面对于[SSD](../glossary.md#g_SSD)存储设备也是高效的，因为SSD通常使用较小的块大小。保持页大小与InnoDB存储设备的块大小接近，可以使重写到磁盘的未变数据的数量降到最少。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_print_all_deadlocks"/> `innodb_print_all_deadlocks`

<div class="informaltable">
<table summary="Options for innodb_print_all_deadlocks" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_print_all_deadlocks=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_print_all_deadlocks</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_print_all_deadlocks">innodb_print_all_deadlocks</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

当启用该选项时，InnoDB用户事务的[死锁](../glossary.md#g_deadlock)信息都记录在mysqld[错误日志](../Chapter_05/05.02.02_The_Error_Log.md)。否则，你只能使用`SHOW ENGINE INNODB STATUS`命令看到最后一次的死锁信息。偶发的InnoDB死锁不一定是一个问题，因为InnoDB检测到会立即自动回滚一个事务。如果应用程序没有适当的错误处理逻辑来检测回滚并重试该操作，你可以使用这个选项来排除为什么发生死锁。大量的死锁可能表示需要重组该事务的问题[DML](../glossary.md#g_DML)或多表的`SELECT ... FOR UPDATE`语句，保证每个事务以相同的顺序访问表，这样就避免了死锁条件。

* `innodb_purge_batch_size`

<div class="informaltable">
<table summary="Options for innodb_purge_batch_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_purge_batch_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_purge_batch_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_purge_batch_size">innodb_purge_batch_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.3)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">300</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 5000</code></td></tr></tbody></table>
</div>

修改变化粒度，表示[重做日志](../glossary.md#g_redo_log)记录触发一次[清除](../glossary.md#g_purge)操作，刷新变动过的[缓冲池](../glossary.md#g_buffer_pool)块到磁盘上的单位。该选项结合`innodb_purge_threads=n`用于性能调优，一般情况下用户不需要修改它。

* `innodb_purge_threads`

<div class="informaltable">
<table summary="Options for innodb_purge_threads" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_purge_threads=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_purge_threads</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_purge_threads">innodb_purge_threads</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.2)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 32</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 32</code></td></tr></tbody></table>
</div>

用于InnoDB[清除](../glossary.md#g_purge)操作的后台线程的数量。MySQL 5.6.5中新的默认值和最小值为1，这意味着清除操作总是由后台线程执行，而从不作为[主线程](../glossary.md#g_master_thread)的一部分。非零值表示在一个或多个后台线程中运行清除操作，这样可以减少InnoDB的内部竞争，提高可伸缩性。将该值提高到大于1，将创建许多单独的清除线程，这可以提高多表上执行的[DML](../glossary.md#g_DML)操作的效率。最大是32。

* <a name="sysvar_innodb_random_read_ahead"/> `innodb_random_read_ahead`

<div class="informaltable">
<table summary="Options for innodb_random_read_ahead" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_random_read_ahead=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_random_read_ahead</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_random_read_ahead">innodb_random_read_ahead</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

启用随机[预读](../glossary.md#g_read_ahead)技术优化InnoDB的I/O。该设置最初是默认启用的，然后在MySQL 5.5中被移除了，现在可用但默认是关闭的。有关不同类型的预读取请求的性能考虑，请参见[14.2.4.2.16节,“预读算法的变动”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02.16)。一般I/O调优建议,参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_read_ahead_threshold"/> `innodb_read_ahead_threshold`

<div class="informaltable">
<table summary="Options for innodb_read_ahead_threshold" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_read_ahead_threshold=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_read_ahead_threshold</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_ahead_threshold">innodb_read_ahead_threshold</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">56</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 64</code></td></tr></tbody></table>
</div>

控制InnoDB用来预抓取页到[缓冲池](../glossary.md#g_buffer_pool)中的线性[预读](../glossary.md#g_read_ahead)的灵敏度。如果InnoDB按顺序从一个[区](../glossary.md#g_extent)(extent)(64页)读取至少`innodb_read_ahead_threshold`页，就会启动一个对整个后续区的异步读取。该值容许的范围是0到64。默认的是56:InnoDB必须从一个区上按顺序读取至少56页才会发起对后续区的异步读。更多信息请参见[14.2.4.2.16节,“预读算法的变动”](../Chapter_14/14.02.04_InnoDB_Performance_Tuning_and_Troubleshooting.md#14.02.04.02.16)。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

* <a name="sysvar_innodb_read_io_threads"/> `innodb_read_io_threads`

<div class="informaltable">
<table summary="Options for innodb_read_io_threads" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_read_io_threads=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_read_io_threads</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_io_threads">innodb_read_io_threads</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">4</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 64</code></td></tr></tbody></table>
</div>

InnoDB读取操作的I/O线程数量。默认值为4。对应的写线程是[`innodb_write_io_threads`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_write_io_threads)。更多详细信息请参见[14.2.4.2.17节,“InnoDB I/O的多后台线程”]()。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

> **注意**
> 
> 在Linux系统上，用默认设置`innodb_read_io_threads`、[`innodb_write_io_threads`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_write_io_threads)运行多个MySQL服务器(通常超过12)，Linux `aio-max-nr`设置可以超过系统限制。理想情况下可以增加`aio-max-nr`设置；作为解决方法，你也可以减少上面的一个或两个MySQL配置项的设置。

* <a name="sysvar_innodb_read_only"/> `innodb_read_only`

<div class="informaltable">
<table summary="Options for innodb_read_only" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.7</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_read_only=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_read_only</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_only">innodb_read_only</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

以只读模式启动服务器。用于分发数据库应用程序或数据集在只读媒体上的数据库。也可以用于数据仓库之间多个实例共享相同的数据目录。参见[14.2.5.1节,“支持只读媒体”](../Chapter_14/14.02.05_InnoDB_Features_for_Flexibility_Ease_of_Use_and_Reliability.md#14.2.5.1)的用法说明。

* `innodb_replication_delay`

<div class="informaltable">
<table summary="Options for innodb_replication_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_replication_delay=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_replication_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_replication_delay">innodb_replication_delay</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr></tbody></table>
</div>

如果达到了[`innodb_thread_concurrency`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_concurrency)，从服务器复制线程延迟时间(毫秒)。

* <a name="sysvar_innodb_rollback_on_timeout"/> `innodb_rollback_on_timeout`

<div class="informaltable">
<table summary="Options for innodb_rollback_on_timeout" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_rollback_on_timeout</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_rollback_on_timeout</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_on_timeout">innodb_rollback_on_timeout</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

在MySQL 5.6中，默认情况下在事务超时时InnoDB只[回滚](../glossary.md#g_rollback)最后一条语句。如果指定了[`--innodb_rollback_on_timeout`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_on_timeout)，事务超时会导致InnoDB中止并回滚整个事务(同MySQL 4.1中的行为一样)。

* `innodb_rollback_segments`

<div class="informaltable">
<table summary="Options for innodb_rollback_segments" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_rollback_segments=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_rollback_segments</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_rollback_segments">innodb_rollback_segments</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">128</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 128</code></td></tr></tbody></table>
</div>

定义一个InnoDB[事务](../glossary.md#g_transaction)在[系统表空间](../glossary.md#g_system_tablespace)中使用多少[回滚段](../glossary.md#g_rollback_segment)。这个设置已被[`innodb_undo_logs`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs)取代，但该设置同时仍然有效。

* <a name="sysvar_innodb_sort_buffer_size"/> `innodb_sort_buffer_size`

<div class="informaltable">
<table summary="Options for innodb_sort_buffer_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.4</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_sort_buffer_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_sort_buffer_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sort_buffer_size">innodb_sort_buffer_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.4)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1048576</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">524288 .. 67108864</code></td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1048576</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">65536 .. 67108864</code></td></tr></tbody></table>
</div>

指定在创建InnoDB索引时用于数据排序的排序缓冲区的大小。在该设置可配置之前，大小是硬编码为1MB，目前的默认值也是1MB。该排序区仅用于创建索引时的合并排序，而不是后来的索引维护操作。在[`ALTER TABLE`](../Chapter_13/13.01.07_ALTER_TABLE_Syntax.md)或[`CREATE TABLE`](../Chapter_13/13.01.17_CREATE_TABLE_Syntax.md)语句创建一个索引时，3个缓冲区被分配，每个的大小为该选项定义的值。这些缓冲区在索引创建完成后回收。

该选项的值也控制临时日志文件扩展的数量，用于记录[在线DDL](../glossary.md#g_online_DDL)操作期间的并发DML。

* `innodb_spin_wait_delay`

<div class="informaltable">
<table summary="Options for innodb_spin_wait_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_spin_wait_delay=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_spin_wait_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_spin_wait_delay">innodb_spin_wait_delay</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">6</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr></tbody></table>
</div>

[自旋(spin)](../glossary.md#g_spin)锁之间轮询(polls)的最大延迟。该机制的底层实现依赖于不同硬件和操作系统的组合，所以延迟不对应于一个固定的时间间隔。默认值是6。

* `innodb_stats_auto_recalc`

<div class="informaltable">
<table summary="Options for innodb_stats_auto_recalc" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_auto_recalc=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_auto_recalc</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_auto_recalc">innodb_stats_auto_recalc</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

导致在表发生了显著变化后InnoDB自动重新计算[持久统计信息](../glossary.md#g_persistent_statistics)。阈值是目前表中的行数的10%。该设置适用于[`innodb_stats_persistent`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent)选项启用时创建表，或者[`CREATE TABLE`](../Chapter_13/13.01.17_CREATE_TABLE_Syntax.md)、[`ALTER TABLE`](../Chapter_13/13.01.07_ALTER_TABLE_Syntax.md)语句使用了`STATS_PERSISTENT=1`子句。用于生成统计信息的数据采样数量是由[`innodb_stats_persistent_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent_sample_pages)配置项控制的。

* `innodb_stats_method`

<div class="informaltable">
<table summary="Options for innodb_stats_method" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_method=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_method</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_method">innodb_stats_method</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="6">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">enumeration</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">nulls_equal</code></td></tr><tr><td scope="row" rowspan="3" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">nulls_equal</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">nulls_unequal</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">nulls_ignored</code></td></tr></tbody></table>
</div>

服务器在收集关于InnoDB表的索引值的分布情况的[统计信息](../glossary.md#g_statistics)时如何对待`NULL`值。该变量有三个可选值，`nulls_equal`、`nulls_unequal`和`nulls_ignored`。对于`nulls_equal`，所有`NULL`索引值被认为是相等的并且作为一个单独的数值组，该组大小就等于`NULL`值的数量。对于`nulls_unequal`，`NULL`值被认为是不相等的，每个`NULL`作为一个单独的大小为1的数值组。对于`nulls_ignored`，`NULL`值被忽略。

该方法用于生成会影响优化器选择索引查询执行的表统计信息，描述请查看[8.3.7章,“InnoDB和MyISAM索引统计信息的收集”](../Chapter_08/08.03.07_InnoDB_and_MyISAM_Index_Statistics_Collection.md)。

* <a name="sysvar_innodb_stats_on_metadata"/> `innodb_stats_on_metadata`

<div class="informaltable">
<table summary="Options for innodb_stats_on_metadata" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_on_metadata</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_on_metadata</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_on_metadata">innodb_stats_on_metadata</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&lt;= 5.6.5)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values (&gt;= 5.6.6)</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

如果启用该变量，在执行[`SHOW TABLE STATUS`](../Chapter_13/13.07.05_SHOW_Syntax.md#13.07.05.37)、[`SHOW INDEX`](../Chapter_13/13.07.05_SHOW_Syntax.md#13.07.05.23)等元数据语句时，或当访问`INFORMATION_SCHEMA`表[`TABLES`](../Chapter_20/20.23.00_The_INFORMATION_SCHEMA_TABLES_Table.md)、[`STATISTICS`](../Chapter_20/20.22.00_The_INFORMATION_SCHEMA_STATISTICS_Table.md)时，InnoDB会更新[统计信息](../glossary.md#g_statistics)。(这些更新类似于执行了[`ANALYZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.01)。)当禁用该变量时，做这些操作时InnoDB将不更新统计信息。禁用该设置可以提高具有大量表或索引的模式的访问速度。还可以提高涉及InnoDB表的那些查询的[执行计划](../glossary.md#g_query_execution_plan)的稳定性。

该变量在MySQL 5.6.6中默认是禁用的，之前的版本中默认启用。

* <a name="sysvar_innodb_stats_persistent"/> `innodb_stats_persistent`

<div class="informaltable">
<table summary="Options for innodb_stats_persistent" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.6</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_persistent=setting</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_persistent</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent">innodb_stats_persistent</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="8">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr><tr><td scope="row" rowspan="5" valign="top"><span class="bold"><strong>Valid Values</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">ON</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row" colspan="2"><code class="literal">default</code></td></tr></tbody></table>
</div>

指定`ANALYZE TABLE`命令生成的InnoDB索引统计信息是否存储在磁盘上，并一直保持到下一次`ANALYZE TABLE`命令。否则，统计信息会更频繁地重新计算，比如每次服务器重启时，这可能导致[查询执行计划](../glossary.md#g_query_execution_plan)的变化。该设置在创建表时存储在每个表。你可以使用[`CREATE TABLE`](../Chapter_13/13.01.17_CREATE_TABLE_Syntax.md)和[`ALTER TABLE`](../Chapter_13/13.01.07_ALTER_TABLE_Syntax.md)命令的`STATS_PERSISTENT`子句指定或改变它。

* <a name="sysvar_innodb_stats_persistent_sample_pages"/> `innodb_stats_persistent_sample_pages`

<div class="informaltable">
<table summary="Options for innodb_stats_persistent_sample_pages" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_persistent_sample_pages=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_persistent_sample_pages</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent_sample_pages">innodb_stats_persistent_sample_pages</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">20</code></td></tr></tbody></table>
</div>

估计[基数](../glossary.md#g_cardinality)和索引列[`ANALYZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.01)计算的其他[统计信息](../glossary.md#g_statistics)时，索引[页](../glossary.md#g_page)的取样数量。加大该值可以提高索引统计信息的精度，从而改善[查询执行计划](../glossary.md#g_query_execution_plan)，但InnoDB表执行[`ANALYZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.01)时会增加I/O。

此选项仅在[`innodb_stats_persistent`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent)设置打开时有效；如果关闭那个选项，[`innodb_stats_transient_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_transient_sample_pages)的设置会生效。

* <a name="sysvar_innodb_stats_sample_pages"/> `innodb_stats_sample_pages`

<div class="informaltable">
<table summary="Options for innodb_stats_sample_pages" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_sample_pages=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_sample_pages</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_sample_pages">innodb_stats_sample_pages</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 2**64-1</code></td></tr></tbody></table>
</div>

已弃用，使用[`innodb_stats_transient_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_transient_sample_pages)代替。

* <a name="sysvar_innodb_stats_transient_sample_pages"/> `innodb_stats_transient_sample_pages`

<div class="informaltable">
<table summary="Options for innodb_stats_transient_sample_pages" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.2</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_stats_transient_sample_pages=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_stats_transient_sample_pages</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_transient_sample_pages">innodb_stats_transient_sample_pages</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">8</code></td></tr></tbody></table>
</div>

估计[基数](../glossary.md#g_cardinality)和索引列[`ANALYZE TABLE`](../Chapter_13/13.07.02_Table_Maintenance_Statements.md#13.07.02.01)计算的其他[统计信息](../glossary.md#g_statistics)时，索引[页](../glossary.md#g_page)的取样数量。默认值是8。加大该值可以提高索引统计信息的精度，从而改善[查询执行计划](../glossary.md#g_query_execution_plan)，但InnoDB表执行`ANALYZE TABLE`时会增加I/O。

此选项仅在[`innodb_stats_persistent`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent)设置为关闭时有效；如果打开那个选项，[`innodb_stats_persistent_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent_sample_pages)的设置会生效，取代`innodb_stats_sample_pages`选项。更多信息，请参见[14.2.5章,“InnoDB特性：灵活性、易用性和可靠性”](../Chapter_14/14.02.05_InnoDB_Features_for_Flexibility_Ease_of_Use_and_Reliability.md)。

* <a name="sysvar_innodb_strict_mode"/> `innodb_strict_mode`

<div class="informaltable">
<table summary="Options for innodb_strict_mode" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_strict_mode=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_strict_mode</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_strict_mode">innodb_strict_mode</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">OFF</code></td></tr></tbody></table>
</div>

是否在特定条件时InnoDB返回错误而不是警告。这类似于严格的SQL模式。默认值是`OFF`。请查看[14.2.3.7节,“InnoDB严格模式”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.07)中的影响情况列表。

* `innodb_support_xa`

<div class="informaltable">
<table summary="Options for innodb_support_xa" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_support_xa</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_support_xa</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_support_xa">innodb_support_xa</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>

使InnoDB在[`XA`](../glossary.md#g_XA)事务中支持两阶段提交，为准备事务可能会产生额外的磁盘刷新。这是默认设置。XA机制是内部使用的，并且对任何开启了二进制日志并且接受多个线程修改数据的服务器必不可少的。如果关闭该选项，事务可能会以不同于提交时的顺序写入二进制日志。当二进制日志在灾难恢复或复制从库中重做时可能产生不同的数据。在复制主服务器中不要关掉该选项，除非你只有一个线程能修改数据。

对于只接受一个线程修改数据的服务器，建议关闭此选项以提高InnoDB表的性能，这种情况是安全的。例如，你可以关掉复制从库的该选项，因为只有复制SQL线程在修改数据。

如果你不需要该选项获得安全的二进制日志或复制，你也可以关闭该选项，但这样你也无法使用外部的XA事务管理器。

* <a name="sysvar_innodb_sync_array_size"/> `innodb_sync_array_size`

<div class="informaltable">
<table summary="Options for innodb_sync_array_size" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_sync_array_size=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_sync_array_size</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sync_array_size">innodb_sync_array_size</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">1</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 1024</code></td></tr></tbody></table>
</div>

拆分内部数据结构用来协调线程，以便在工作负载有大量等待线程时获得更高的并发性。该设置必须在MySQL实例启动时配置，启动之后不能修改。如果经常产生大量等待线程，推荐提高该值，通常大于768。

* <a name="sysvar_innodb_sync_spin_loops"/> `innodb_sync_spin_loops`

<div class="informaltable">
<table summary="Options for innodb_table_locks" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_table_locks</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_table_locks</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_table_locks">innodb_table_locks</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>

一个线程在暂停之前，等待InnoDB互斥锁释放的次数。默认值是30。

* <a name="sysvar_innodb_table_locks"/> `innodb_table_locks`

<div class="informaltable">
<table summary="Options for innodb_table_locks" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_table_locks</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_table_locks</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_table_locks">innodb_table_locks</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global, Session</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">TRUE</code></td></tr></tbody></table>
</div>

如果[`autocommit = 0`](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_autocommit)，InnoDB执行[`LOCK TABLES`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)时，MySQL不会从[`LOCK TABLES ... WRITE`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)返回，直到所有其他线程释放了该表上的所有锁。`innodb_table_locks`默认值是1，这意味着如果[`autocommit = 0`](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_autocommit)，[`LOCK TABLES`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)会触发InnoDB内部锁表。

在MySQL 5.6中，`innodb_table_locks = 0`对使用[`LOCK TABLES ... WRITE`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)显式锁定的表没有影响。对使用[`LOCK TABLES ... WRITE`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)隐式锁定(例如，通过触发器)或用[`LOCK TABLES ... READ`](../Chapter_13/13.03.05_LOCK_TABLES_and_UNLOCK_TABLES_Syntax.md)锁定的表有影响。

* <a name="sysvar_innodb_thread_concurrency"/> `innodb_thread_concurrency`

<div class="informaltable">
<table summary="Options for innodb_thread_concurrency" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_thread_concurrency=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_thread_concurrency</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_concurrency">innodb_thread_concurrency</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 1000</code></td></tr></tbody></table>
</div>

InnoDB会试图保持内部并发的操作系统线程数小于或等于这个限定值。一旦线程数达到这一限制，额外的线程会被设置为等待状态放在一个FIFO队列中等待执行。正在等待锁的线程不计入并发执行线程数。

该变量适当的值依赖于环境和工作负载。请尝试用多种不同的值来确定适合应用程序的值。建议值是cpu数加磁盘数的2倍。

该变量的范围是0到1000。值为0(默认)表示无限并发(无并发检查)。禁用线程并发检查可使InnoDB需要线程就创建多少线程。值为0时也会禁用`SHOW ENGINE INNODB STATUS`输出在`ROW OPERATIONS`部分的`queries inside InnoDB`和`queries in queue counters`。

* <a name="sysvar_innodb_thread_sleep_delay"/> `innodb_thread_sleep_delay`

<div class="informaltable">
<table summary="Options for innodb_thread_sleep_delay" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_thread_sleep_delay=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_thread_sleep_delay</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_thread_sleep_delay">innodb_thread_sleep_delay</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">10000</code></td></tr></tbody></table>
</div>

InnoDB线程在加入InnoDB队列之前睡眠多久，单位是微秒。默认值是10,000。值为0表示禁用睡眠。在MySQL 5.6.3和更高版本中，你可以通过配置项[`innodb_adaptive_max_sleep_delay`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_max_sleep_delay)设置`innodb_thread_sleep_delay`允许的最高值，InnoDB会根据当前线程调度活动自动向上或向下调整`innodb_thread_sleep_delay`的值。这样的动态调整有助于线程的调度机制在系统负载很轻或操作接近饱和的时候都能平顺地工作。

* <a name="sysvar_innodb_undo_directory"/> `innodb_undo_directory`

<div class="informaltable">
<table summary="Options for innodb_undo_directory" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_undo_directory=name</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_undo_directory</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_directory">innodb_undo_directory</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">string</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">.</code></td></tr></tbody></table>
</div>

InnoDB为回滚日志创建单独的表空间的相对或绝对目录路径。通常用来将这些日志存储在不同的设备上。[`innodb_undo_logs`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs)和[`innodb_undo_tablespaces`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces)结合使用，决定了[系统表空间](../glossary.md#g_system_tablespace)之外的回滚日志的磁盘布局。默认值`.`代表InnoDB默认情况下创建其他日志文件的相同目录。

* <a name="sysvar_innodb_undo_logs"/> `innodb_undo_logs`

<div class="informaltable">
<table summary="Options for innodb_undo_logs" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_undo_logs=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_undo_logs</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs">innodb_undo_logs</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">128</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 128</code></td></tr></tbody></table>
</div>

定义InnoDB在一个[事务](../glossary.md#g_transaction)中使用[系统表空间](../glossary.md#g_system_tablespace)中的多少[回滚段](../glossary.md#g_rollback_segment)。如果你观察到关于回滚日志的互斥争用，可以调整该设置进行性能调优。取代了`innodb_rollback_segments`设置。可用回滚日志的总数，而不是活动的数量，请参阅[`Innodb_available_undo_logs`](../Chapter_05/05.01.06_Server_Status_Variables.md#statvar_Innodb_available_undo_logs)状态变量。

虽然你可以增加或减少一个事务中使用多少回滚段，系统中物理存在的回滚段数量不会减少。因此开始时该参数可以用一个较低的值，然后逐渐增加，以避免分配过多以后用不到的回滚段。如果未设置[`innodb_undo_logs`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs)，默认为最大值128。关于回滚段的管理信息请参阅[14.2.3.11节,“InnoDB多版本控制”](../Chapter_14/14.02.03_InnoDB_Concepts_and_Architecture.md#14.02.03.11)。

* <a name="sysvar_innodb_undo_tablespaces"/> `innodb_undo_tablespaces`

<div class="informaltable">
<table summary="Options for innodb_undo_tablespaces" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_undo_tablespaces=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_undo_tablespaces</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces">innodb_undo_tablespaces</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 126</code></td></tr></tbody></table>
</div>

当[`innodb_undo_logs`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs)使用一个非零设置时，[回滚日志](../glossary.md#g_undo_log)被分成[表空间](../glossary.md#g_tablespace)文件的数量。默认情况下，所有的回滚日志是[系统表空间](../glossary.md#g_system_tablespace)的一部分，并且系统表空间总是会包含一个回滚表空间，除非配置了[`innodb_undo_tablespaces`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces)。因为在长时间运行的事务期间，回滚日志会变得很大，将回滚日志分割成多个表空间可以减少任意一个表空间的最大大小。表空间文件被创建在由[`innodb_undo_directory`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_directory)定义的目录中，该定义使用`undoN`形式的名字，其中`N`表示一个包括前导零的连贯整数。默认表空间文件大小是10M。[`innodb_undo_tablespaces`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces)的数量必须在InnoDB初始化之前设置。试图在修改[`innodb_undo_tablespaces`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces)的数量之后重启InnoDB，将导致InnoDB找不到预期数量的回滚表空间的错误而启动失败。

* `innodb_use_native_aio`

<div class="informaltable">
<table summary="Options for innodb_use_native_aio" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_use_native_aio=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_use_native_aio</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_use_native_aio">innodb_use_native_aio</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

指定是否使用Linux异步I/O子系统。该变量只适用于Linux系统，不能在服务器运行时改变。

通常，你不需要动该选项，因为是默认启用的。如果由于OS的异步I/O子系统的某种问题导致InnoDB无法启动，请禁用该变量后再启动服务器(在选项文件中使用[`innodb_use_native_aio=0`)。如果InnoDB检测到一个潜在的问题（如`tmpdir`位置与`tmpfs`文件系统结合使用，但Linux内核在`tmpfs`上不支持AIO），该选项可能在启动期间被自动关闭。

* <a name="sysvar_innodb_use_sys_malloc"/> `innodb_use_sys_malloc`

<div class="informaltable">
<table summary="Options for innodb_use_sys_malloc" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Deprecated</strong></span></td><td colspan="3">5.6.3</td></tr><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_use_sys_malloc=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_use_sys_malloc</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_use_sys_malloc">innodb_use_sys_malloc</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="3">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">boolean</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">ON</code></td></tr></tbody></table>
</div>

InnoDB是否使用操作系统内存分配器(`ON`)或自己的(`OFF`)。默认值是`ON`。

在MySQL 5.6.3版本中，`innodb_use_sys_malloc`被弃用并且在未来的MySQL版本中将被删除。

* `innodb_version`

InnoDB版本号。从5.6.11开始，为InnoDB的单独编号被停用，该值将与[version](../Chapter_05/05.01.04_Server_System_Variables.md#sysvar_version)变量相同。

* <a name="sysvar_innodb_write_io_threads"/> `innodb_write_io_threads`

<div class="informaltable">
<table summary="Options for innodb_write_io_threads" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--innodb_write_io_threads=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">innodb_write_io_threads</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_write_io_threads">innodb_write_io_threads</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">No</td></tr><tr><td scope="row" rowspan="4">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">4</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">1 .. 64</code></td></tr></tbody></table>
</div>

InnoDB中用于写操作的I/O线程数。默认值为4。对应的读线程是[`innodb_read_io_threads`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_read_io_threads)。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

> **注意**
>
> 在Linux系统上，用默认设置`innodb_read_io_threads`、[`innodb_write_io_threads`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_write_io_threads)运行多个MySQL服务器(通常超过12)，Linux `aio-max-nr`设置可以超过系统限制。理想情况下可以增加`aio-max-nr`设置；作为解决方法，你也可以减少上面的一个或两个MySQL配置项的设置。

* <a name="sysvar_sync_binlog"/> `sync_binlog`

<div class="informaltable">
<table summary="Options for sync_binlog" border="1"><colgroup><col class="title"><col class="vt"><col class="vd"><col class="v"></colgroup><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td><td colspan="3"><code class="literal">--sync-binlog=#</code></td></tr><tr><td scope="row"><span class="bold"><strong>Option-File Format</strong></span></td><td colspan="3"><code class="literal">sync_binlog</code></td></tr><tr><td scope="row"><span class="bold"><strong>System Variable Name</strong></span></td><td colspan="3"><code class="literal"><a class="link" href="replication-options-binary-log.html#sysvar_sync_binlog">sync_binlog</a></code></td></tr><tr><td scope="row"><span class="bold"><strong>Variable Scope</strong></span></td><td colspan="3">Global</td></tr><tr><td scope="row"><span class="bold"><strong>Dynamic Variable</strong></span></td><td colspan="3">Yes</td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">32</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 4294967295</code></td></tr><tr><td scope="row" rowspan="5">&nbsp;</td><td colspan="3"><span class="bold"><strong>Permitted Values</strong></span></td></tr><tr><td scope="row"><span class="bold"><strong>Platform Bit Size</strong></span></td><td colspan="2"><code class="literal">64</code></td></tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td><td colspan="2"><code class="literal">numeric</code></td></tr><tr><td scope="row"><span class="bold"><strong>Default</strong></span></td><td colspan="2"><code class="literal">0</code></td></tr><tr><td scope="row"><span class="bold"><strong>Range</strong></span></td><td colspan="2"><code class="literal">0 .. 18446744073709547520</code></td></tr></tbody></table>
</div>

如果该变量的值大于0，MySQL服务器在每写入二进制日志`sync_binlog`次之后同步二进制日志到磁盘(使用`fdatasync()`)。如果启用了自动提交，每个语句都会写入二进制日志一次，否则每个事务写入一次。`sync_binlog`默认值是0，这表示没有同步到磁盘。值为1是最安全的选择，因为在发生崩溃时，你的二进制日志最多丢失一条语句或事务。然而，这也是最慢的选择(除非磁盘具有支持电池的缓存，使得同步非常快)。一般I/O调优建议，参见[8.5.7章,“优化InnoDB磁盘I/O”](../Chapter_08/08.05.07_Optimizing_InnoDB_Disk_IO.md)。

#### 14.2.6.1. InnoDB中最近改变的参数列表

##### 14.2.6.1.1. 新增参数

贯穿整个开发过程，InnoDB 1.1及其前身InnoDB插件引入的新的配置参数。

下列InnoDB相关的配置参数在MySQL 5.5和5.6版本之间被添加:

[`innodb_adaptive_max_sleep_delay`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_adaptive_max_sleep_delay),
[`innodb_buffer_pool_dump_at_shutdown`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_at_shutdown), 
[`innodb_buffer_pool_dump_now`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_dump_now),
[`innodb_buffer_pool_filename`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_filename), 
[`innodb_buffer_pool_load_abort`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_abort),
[`innodb_buffer_pool_load_at_startup`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_at_startup), 
[`innodb_buffer_pool_load_now`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_buffer_pool_load_now),
[`innodb_change_buffer_max_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_change_buffer_max_size), 
[`innodb_checksum_algorithm`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_checksum_algorithm),
[`innodb_disable_sort_file_cache`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_disable_sort_file_cache), 
[`innodb_flush_neighbors`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_flush_neighbors),
[`innodb_force_load_corrupted`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_force_load_corrupted), 
[`innodb_ft_aux_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_aux_table),
[`innodb_ft_cache_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_cache_size)], 
[`innodb_ft_enable_diag_print`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_diag_print),
[`innodb_ft_enable_stopword`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_enable_stopword), 
[`innodb_ft_max_token_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_max_token_size),
[`innodb_ft_min_token_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_min_token_size), 
[`innodb_ft_num_word_optimize`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_num_word_optimize),
[`innodb_ft_server_stopword_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_server_stopword_table), 
[`innodb_ft_sort_pll_degree`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_sort_pll_degree),
[`innodb_ft_user_stopword_table`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_ft_user_stopword_table), 
[`innodb_large_prefix`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_large_prefix),
[`innodb_lru_scan_depth`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_lru_scan_depth), 
[`innodb_monitor_disable`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_disable),
[`innodb_monitor_enable`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_enable), 
[`innodb_monitor_reset`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset),
[`innodb_monitor_reset_all`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_monitor_reset_all), 
[`innodb_optimize_fulltext_only`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_optimize_fulltext_only),
[`innodb_page_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_page_size), 
[`innodb_print_all_deadlocks`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_print_all_deadlocks),
[`innodb_random_read_ahead`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_random_read_ahead), 
[`innodb_sort_buffer_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sort_buffer_size),
[`innodb_stats_persistent_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_persistent_sample_pages),
[`innodb_stats_transient_sample_pages`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_stats_transient_sample_pages), 
[`innodb_sync_array_size`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_sync_array_size),
[`innodb_undo_directory`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_directory), 
[`innodb_undo_logs`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_logs),
[`innodb_undo_tablespaces`](../Chapter_14/14.02.06_InnoDB_Startup_Options_and_System_Variables.md#sysvar_innodb_undo_tablespaces)

##### 14.2.6.1.2. 新默认值的参数

为了更好的开箱即用的性能，以下InnoDB配置参数从MySQL 5.1版本开始有新的默认值:

表14.6。 InnoDB参数与新默认值

<table border="1" cellpadding="1" cellspacing="1" style="width:500px">
	<thead>
		<tr>
			<th scope="col">名称</th>
			<th scope="col">原默认值</th>
			<th scope="col">新默认值</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>innodb_additional_mem_pool_size</td>
			<td style="text-align:right">1MB</td>
			<td style="text-align:right">8MB</td>
		</tr>
		<tr>
			<td>innodb_buffer_pool_size</td>
			<td style="text-align:right">8MB</td>
			<td style="text-align:right">128MB</td>
		</tr>
		<tr>
			<td>innodb_change_buffering</td>
			<td style="text-align: right;">inserts</td>
			<td style="text-align: right;">all</td>
		</tr>
		<tr>
			<td>innodb_file_format_check</td>
			<td style="text-align: right;">ON</td>
			<td style="text-align: right;">1</td>
		</tr>
		<tr>
			<td>innodb_log_buffer_size</td>
			<td style="text-align: right;">1MB</td>
			<td style="text-align: right;">8MB</td>
		</tr>
		<tr>
			<td>innodb_max_dirty_pages_pct</td>
			<td style="text-align: right;">90</td>
			<td style="text-align: right;">75</td>
		</tr>
		<tr>
			<td>innodb_sync_spin_loops</td>
			<td style="text-align: right;">20</td>
			<td style="text-align: right;">30</td>
		</tr>
		<tr>
			<td>innodb_thread_concurrency</td>
			<td style="text-align: right;">8</td>
			<td style="text-align: right;">0</td>
		</tr>
	</tbody>
</table>
