## 11.3 日期和时间类型

日期和时间类型使用DATE，TIME，DATETIME，TIMESTAMP和YEAR表示时间值。每个时间类型具有一个有效值范围和一个“零”值，当指定了MySQL无法表示的无效值时使用“零”值。TIMESTAMP类型具有自动更新特性，稍后介绍。对于时间类型的存储需求，参见[11.6节，“列类型存储需求”](./11.06.00_Data_Type_Storage_Requirements.md)。

工作时请记住日期和时间类型的一些一般性考虑：

* MySQL检索给定的日期和时间类型于标准输出格式的值，但它试图解析你输入的各种格式的值（例如，当你指定一个值，或做日期或时间比较）。被允许的日期和时间类型的格式的说明，参见[9.1.3节，“日期和时间写法”](../Chapter_09/09.01.03_Date_and_Time_Literals.md)。希望你输入有效的值。如果使用其他格式，可能会有不可预知的结果发生。

* 尽管MySQL试图解析各种格式的值，日期必须是年-月-日顺序（例如，'98-09-04'），而不是常用的月-日-年或者日-月年的顺序（例如，'09-04-98', '04-09-98'）。

* 由于世纪是未知的，因此包含两位数的年份值的日期是不明确的。MySQL解析两位数的年份值时使用这些规则。

    * 70-99范围的年份值被转换为1970-1999。

    * 00-69范围的年份值被转换为2000-2069。

    参见，[11.3.8节，“日期中两位数的年”](./11.03.08_Two-Digit_Years_in_Dates.md)。

* 根据规则将时间类型值转换为其他类型，参见[11.3.7节，“日期和时间类型之间的转换”](./11.03.07_Conversion_Between_Date_and_Time_Types.md)。

* 在数值环境中，MySQL自动转换日期或时间值为数值，反之亦然。

* 默认情况下，当MySQL遇到一个超出日期或时间范围或无效类型的值时，将其转换为该类型的“零”值。唯一的例外是，超出范围的TIME值被截取到适当的TIME范围端点处。

* 通过设置SQL模式得到适当的值，你可以指定MySQL所支持的更准确的日期。（参见[5.1.7节，“服务SQL模式”](../Chapter_05/05.01.07_Server_SQL_Modes.md)。）在启用ALLOW\_INVALID\_DATES[619]SQL模式时，你可以让MySQL接受某些日期，如'2009-11-31'。当你想存储“可能错了”的值到数据库中为将来使用时这是非常有用的（例如，一个web表单）。在这种模式下MySQL的验证范围是，月的范围是1到12，日的范围是1到31。

* MySQL允许在DATE或DATETIME列保存日或月和日是零的日期。这在应用程序需要保存一个你不知道确切日期的生日时非常有用。在这种情况下，只需将日期保存为'2009-00-00'或'2009-01-00'。如果保存此类日期，DATE\_SUB()[1237]或DATE\_ADD()[1233]这些需要完整日期的函数无法得到正确的结果。要禁用日月为零的日期，启用NO\_ZERO\_IN\_DATE[622]SQL模式。

* MySQL允许保存'0000-00-00'这样的“零”值为“伪日期”。这在某些情况下比使用NULL值更方便，且占用较少的数据和索引空间。要禁用'0000-00-00'，启用NO\_ZERO\_DATE[622]SQL模式。

* “零”日期或时间值会被Connector/ODBC自动转换为NULL，因为ODBC无法处理这种值。

下面表格针对各种类型显示了不同的“零”值格式。“零”值很特殊，但可以使用表中显示的值来存储或引用它们。使用时也可以简写为'0'或0。如果启用了NO\_ZERO\_DATE[622]SQL模式，包含日期部分的时间类型（DATE，DATETIME和TIMESTAMP）在使用“零”值时会产生警告。

<table border="1" width='100%' cellspacing="0" cellpadding="0" bgcolor="write">
<tr>
<th>类型</th>
<th>“零”值</th>
</tr>
<tr>
<td align="left">DATE</td>
<td align="left">'0000-00-00'</td>
</tr>
<tr>
<td align="left">TIME</td>
<td align="left">'00:00:00'</td>
</tr>
<tr>
<td align="left">DATETIME</td>
<td align="left">'0000-00-00 00:00:00'</td>
</tr>
<tr>
<td align="left">TIMESTAMP</td>
<td align="left">'0000-00-00 00:00:00'</td>
</tr>
<tr>
<td align="left">YEAR</td>
<td align="left">0000</td>
</tr>
</table>