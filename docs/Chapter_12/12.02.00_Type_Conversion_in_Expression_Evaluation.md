## 12.2 表达式求值中的类型转换

当操作者使用不同类型的参数时，类型转换会让参数兼容。其中有一些转换是隐式的。例如，在必要的时候，MySQL自动将数字转换为字符串，反之亦然。

	mysql> SELECT 1+'1';
			-> 2
	mysql> SELECT CONCAT(2,' test');
			-> '2 test'

在使用[CAST()](#)函数时也可能将一个数字隐式转化为一个字符串。在使用[CONCAT()](#)函数时隐式转化也同样会发生，因为函数需要字符串参数。

	mysql> SELECT 38.8, CAST(38.8 AS CHAR);
			-> 38.8, '38.8'
	mysql> SELECT 38.8, CONCAT(38.8);
			-> 38.8, '38.8'

本章的后面部分将给出设置字符中设置数字与字符串转换的信息。

下面的规则描述了在比较运算时是如何发生转换的：

* 当一个或者所有参数是[NULL](#)值时，比较的结果是[NULL](#),除非NULL安全（NULL-safe） [<=>](#) 的比较运算。例如，[NULL <=> NULL](#)，返回的解脱是true。不需要转换类型。

* 在一个比较运算中，如果参数都是字符串，那么他们就当做字符串来进行比较。

* 如果参数都是整数，它们就当做整数来进行比较。

* 如果不是和数进行比较，十六进制的值被当做二进制字符串来对待。

* 如果参数中的一个是[TIMESTAMP](#)或者[DATETIME](#)类型列的，另外的是一个常量，在进行比较前，常量被转换成一个timestamp类型。This is done to be more ODBC-friendly。注意，在[IN()](#)中参数是不这样做的。为了安全，当进行比较时，经常使用完整的datetime，date或者time字符串。例如，为了得到最好的结果，当在使用[BETWEEN](#)值有date或者time类型时，通常使用[CASST()](#)来明确的将值转换为想要得到的数据类型。

除非在文档编制中对一个函数或操作符另有指定的情况外，一个包含NULL 的表达式通常产生一个NULL 值。

> **注释：**
> 
> 在默认情况下，函数名和紧跟其后的括号之间不能存在空格。这是为了帮助MySQL程序分析器来区分同函数名相同的函数调用以及表或列。但是，函数自变量周围允许存在空格。

你可以通过设置[--sql-mode=IGNORE_SPACE](#)来打开MySQL服务器的方法来让服务器接收函数后的空格。 个人客户端程序可通过选择[mysql_real_connect()](#)的[CLIENT_IGNORE_SPACE](#) 实现这一状态(参见[Section 5.1.7, “Server SQL Modes”](#))。无论是以上哪种情况，所有的函数名都是保留字。

为了简洁，本章中对大多数例子使用简写形式展示了 mysql 程序的输出结果。对于以下格式的举例展示：

<pre class="programlisting">mysql&gt; <strong class="userinput"><code>SELECT MOD(29,9);</code></strong>
+-----------+
| mod(29,9) |
+-----------+
|         2 |
+-----------+
1 rows in set (0.00 sec)
</pre>

将会使用以下格式

		mysql> SELECT MOD(29,9);
        		-> 2
