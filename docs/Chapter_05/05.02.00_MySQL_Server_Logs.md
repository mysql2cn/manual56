# 5.2 MySQL服务器模式

## 5.2 MySQL服务器模式

MySQL有几种不同的日志文件类型，可以帮助你查看正在进行的操作：

<table>
  <tr>
    <th>日志类型</th>
    <th>记录文件中的信息</th>
  </tr>
  <tr>
    <td>错误日志</td>
    <td>启动、运行或停止mysqld时出现的问题。</td>
  </tr>
  <tr>
    <td>通用查询日志</td>
    <td>建立的客户端连接和执行的语句。</td>
  </tr>
  <tr>
    <td>二进制日志</td>
    <td>所有更改数据的语句(还用于复制)。</td>
  </tr>
  <tr>
    <td>接替日志</td>
    <td>从主复制服务器接收到的变化数据。</td>
  </tr>
  <tr>
    <td>慢查询日志</td>
    <td>所有执行时间超过long_query_time秒的查询</td>
  </tr>
</table>

默认情况下，所有的日志是不启用的(除了Windows下的错误日志)，余下特定日志章节提供关于启用日志功能的服务器选项信息。

默认情况下，服务器会将启用的日志写入到数据目录中。你可以通过刷新日志的形式来强制关闭和重新打开日志文件(或者在某些情况下切换到新的日志文件)，当你执行一个`FLUSH LOGS`语句，执行`mysqladmin`时加上`flush-logs`或`refresh`参数，或执行`mysqldump`时加上`--flush-log`或`--master-data`选项时会触发日志刷新功能。参考13.7.6.3节，"`FLUSH`语法"，4,5,2节，"`mysqladmin` -- 管理MySQL服务器的客户端" 和4.5.4节 "`mysqldump` -- 数据库备份程序"。另外，当二进制日志的大小达到系统变量`max_binlog_size`的值时会进行二进制日志刷新。

你可以在运行时控制通用查询日志和慢查询日志，你可以启用或者禁用日志功能或者改变日志文件名。你可以告诉服务器将通用查询日志和慢查询日志写到日志表中，日志文件中或者全部都写入，更多信息，请参考5.2.1节， "选择通用查询和慢查询日志输出目标"，请参考5.2.3节， "通用查询日志"，和5.2.5，"慢查询日志"。

接替日志仅仅用在从复制服务器上，用来保存来自主服务器，建立在从复制服务器上的变化数据。关于接替日志内容和配置的讨论信息，请参考16.2.2.1节， "接替日志"。

关于的日志维护操作，如旧的日志文件过期的信息，请参考5.2.6节，"服务器日志维护"。

关于保持安全日志的信息，请参考6.1.2.3节, "密码和记录"。
